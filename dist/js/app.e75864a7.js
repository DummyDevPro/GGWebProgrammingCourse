(function(){"use strict";var e={5665:function(e,t,a){var s=a(9242),o=a(3396);const l=e=>((0,o.dD)("data-v-571d2053"),e=e(),(0,o.Cn)(),e),i=l((()=>(0,o._)("nav",{class:"footer-nav px-3 bg-light"},null,-1))),n=l((()=>(0,o._)("footer",{class:"p-2 bg-light text-center"},[(0,o._)("small",null,"Copyright © 2022 Okinawa School of Foreign Languages. All Rights Reserved.")],-1)));function r(e,t,a,s,l,r){const c=(0,o.up)("top-nav"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o._)("main",null,[(0,o.Wm)(d)]),i,n],64)}const c=e=>((0,o.dD)("data-v-1d0a2038"),e=e(),(0,o.Cn)(),e),d={id:"top-nav-bar",class:"navbar navbar-expand-lg navbar-dark g-web-bg sticky-top py-3"},u={class:"container-fluid"},p=c((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),m={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},h={class:"navbar-nav"},g={key:0},w={key:1},f={key:2},b={key:4,class:"btn btn-logout","data-bs-toggle":"modal","data-bs-target":"#logoutModal"};function y(e,t,a,s,l,i){const n=(0,o.up)("router-link"),r=(0,o.up)("logout-modal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",d,[(0,o._)("div",u,[(0,o.Wm)(n,{to:{name:"home"},class:"navbar-brand","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Webプログラミングコース ")])),_:1}),p,(0,o._)("div",m,[(0,o._)("ul",h,[null!=i.getUserID?((0,o.wg)(),(0,o.iD)("li",g,[(0,o.Wm)(n,{to:{name:"all-mondai"},class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("問題一覧")])),_:1})])):(0,o.kq)("",!0),null!=i.getUserID?((0,o.wg)(),(0,o.iD)("li",w,[(0,o.Wm)(n,{to:{name:"student-projects"},class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("学生製品")])),_:1})])):(0,o.kq)("",!0),null!=i.getUserID?((0,o.wg)(),(0,o.iD)("li",f,[(0,o.Wm)(n,{to:{name:"user-profile"},class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("プロフィール")])),_:1})])):(0,o.kq)("",!0),i.getUserID&&i.getUserRole&&99==i.getUserRole?((0,o.wg)(),(0,o.j4)(n,{key:3,to:{name:"all-years-schedule"},class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("年間スケジュール")])),_:1})):(0,o.kq)("",!0),null!=i.getUserID?((0,o.wg)(),(0,o.iD)("button",b,"ログアウト")):(0,o.kq)("",!0)])])])]),(0,o.Wm)(r)],64)}const v={class:"modal fade",id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"logoutModalLabel","aria-hidden":"true"},D={class:"modal-dialog",role:"document"},_={class:"modal-content"},C={class:"modal-header"},k=(0,o._)("h5",{class:"modal-title",id:"logoutModalLabel"},"Logout",-1),x={ref:"close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},q=(0,o._)("div",{class:"modal-body"}," ログアウトしますか？ ",-1),I={class:"modal-footer"},U=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"いいえ",-1);function S(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("div",D,[(0,o._)("div",_,[(0,o._)("div",C,[k,(0,o._)("button",x,null,512)]),q,(0,o._)("div",I,[U,(0,o._)("button",{type:"button",class:"btn btn-warning",onClick:t[0]||(t[0]=(...e)=>i.logoutAction&&i.logoutAction(...e))},"はい")])])])])}var A={methods:{logoutAction(){this.$store.dispatch("logoutAction")}},mounted(){this.$store.watch(((e,t)=>t.logoutModalState),((e,t)=>{e&&(this.$refs.close.click(),this.$router.replace({name:"home"}),this.$store.dispatch("updateLogoutModal"))}))}},N=a(89);const L=(0,N.Z)(A,[["render",S]]);var T=L,j={data(){return{uid:null}},components:{"logout-modal":T},computed:{getUserID(){return this.$store.getters.acquireUserID},getUserRole(){return this.$store.getters.acquireUserInfo?.userRole}}};const M=(0,N.Z)(j,[["render",y],["__scopeId","data-v-1d0a2038"]]);var P=M,z={components:{"top-nav":P},mounted(){this.$store.dispatch("initializeApp")}};const $=(0,N.Z)(z,[["render",r],["__scopeId","data-v-571d2053"]]);var H=$,F=a(7139);const O=e=>((0,o.dD)("data-v-1d7d0d4d"),e=e(),(0,o.Cn)(),e),K={class:"py-3 px-3"},R={class:"card"},W=["src"],E={class:"card-body text-center"},Y={class:"card-title"},B={class:"card-subtitle mb-2 text-muted text-truncate"},Z={class:"card-footer text-center"},Q={key:0,class:"position-sticky p-3 style-float bg-dark text-center rounded"},V=O((()=>(0,o._)("i",{class:"bi bi-plus-lg"},null,-1))),J={class:"modal fade",id:"myModal",ref:"myModal"},X={class:"modal-dialog"},G={class:"modal-content"},ee={class:"modal-header"},te=O((()=>(0,o._)("h4",{class:"modal-title"},"Add New Category/Subject",-1))),ae={class:"modal-body"},se={class:"mb-3"},oe=O((()=>(0,o._)("label",{for:"categoryTitle",class:"form-label"},"Title",-1))),le={class:"mb-3"},ie=O((()=>(0,o._)("label",{for:"categorySubTitle",class:"form-label"},"SubTitle",-1))),ne={class:"mb-3"},re=O((()=>(0,o._)("label",{for:"categorySpecific",class:"form-label"},"Specific",-1))),ce={class:"mb-3"},de=O((()=>(0,o._)("label",{for:"displayImage",class:"form-label"},"Display Image",-1))),ue={class:"d-flex"},pe=O((()=>(0,o._)("button",{type:"reset",class:"btn btn-danger w-50"},"Clear",-1))),me=["disabled"];function he(e,t,a,l,i,n){const r=(0,o.up)("router-link"),c=(0,o.up)("base-layout");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",K,[(0,o.Wm)(c,{data:n.getAllQuestionsNameData,layoutType:"0"},{item:(0,o.w5)((({photo:e,title:t,subTitle:a,specific:s})=>[(0,o._)("div",R,[(0,o._)("img",{src:e,class:"card-img-top",style:{height:"150px","object-fit":"scale-down"}},null,8,W),(0,o._)("div",E,[(0,o._)("h5",Y,(0,F.zw)(t),1),(0,o._)("h6",B,(0,F.zw)(a),1)]),(0,o._)("div",Z,[(0,o.Wm)(r,{to:{name:"questions",params:{specific:s}},class:"btn btn-primary form-control"},{default:(0,o.w5)((()=>[(0,o.Uk)("チャレンジ")])),_:2},1032,["to"])])])])),_:1},8,["data"])]),n.getUserRole&&99==n.getUserRole?((0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("button",{class:"btn btn-success rounded-pill",onClick:t[0]||(t[0]=(...e)=>n.showModal&&n.showModal(...e))},[(0,o.Uk)(" Add New "),V])])):(0,o.kq)("",!0),(0,o._)("div",J,[(0,o._)("div",X,[(0,o._)("div",G,[(0,o._)("div",ee,[te,(0,o._)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=(...e)=>n.hideModal&&n.hideModal(...e))})]),(0,o._)("div",ae,[(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,s.iM)(((...e)=>n.registerNewCategory&&n.registerNewCategory(...e)),["prevent"])),ref:"registerNewCategoryForm"},[(0,o._)("div",se,[oe,(0,o.wy)((0,o._)("input",{type:"text",id:"categoryTitle",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.category.title=e),required:""},null,512),[[s.nr,i.category.title]])]),(0,o._)("div",le,[ie,(0,o.wy)((0,o._)("input",{type:"text",id:"categorySubTitle",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.category.subTitle=e),required:""},null,512),[[s.nr,i.category.subTitle]])]),(0,o._)("div",ne,[re,(0,o.wy)((0,o._)("input",{type:"text",id:"categorySpecific",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>i.category.specific=e),required:""},null,512),[[s.nr,i.category.specific]])]),(0,o._)("div",ce,[de,(0,o._)("input",{type:"file",id:"displayImage",class:"form-control",accept:"image/*",onChange:t[5]||(t[5]=(...e)=>n.selectFile&&n.selectFile(...e)),required:""},null,32)]),(0,o._)("div",ue,[pe,(0,o._)("button",{type:"submit",class:"btn btn-success w-50",disabled:i.btnDisable}," Save ",8,me)])],544)])])])],512)],64)}const ge={class:"py-3"},we={key:0,class:"m-auto py-5",style:{width:"max-content"}},fe=(0,o._)("div",null,[(0,o._)("h3",null,"Loading")],-1),be={class:"d-flex gap-1"},ye={class:"p-1 bg-primary"},ve={key:1},De=(0,o._)("div",{class:"d-flex flex-column align-items-center"},[(0,o._)("i",{class:"bi bi-database-fill-x",style:{"font-size":"3rem"}}),(0,o._)("span",{class:"fs-6"},"NO DATA")],-1),_e={key:2},Ce={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4"},ke={class:"mb-3"},xe={key:1,class:"col-12 col-sm-12 col-md-12 col-lg-6 m-auto accordion"},qe={class:"accordion-item"},Ie={key:2,class:"table table-striped table-hover"},Ue=(0,o._)("th",{scope:"col"},"#",-1),Se=["onClick"],Ae={scope:"row"};function Ne(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",ge,[a.data?0==a.data.length?((0,o.wg)(),(0,o.iD)("div",ve,[(0,o.Uk)((0,F.zw)(i.stopDotsInterval())+" ",1),De])):((0,o.wg)(),(0,o.iD)("div",_e,[(0,o.Uk)((0,F.zw)(i.stopDotsInterval())+" ",1),0==a.layoutType?((0,o.wg)(),(0,o.iD)("div",Ce,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.data,(t=>((0,o.wg)(),(0,o.iD)("div",ke,[(0,o.WI)(e.$slots,"item",(0,F.vs)((0,o.F4)(t)))])))),256))])):(0,o.kq)("",!0),1==a.layoutType?((0,o.wg)(),(0,o.iD)("div",xe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.data,(t=>((0,o.wg)(),(0,o.iD)("div",qe,[(0,o.WI)(e.$slots,"item",(0,F.vs)((0,o.F4)(t)))])))),256))])):(0,o.kq)("",!0),2==a.layoutType?((0,o.wg)(),(0,o.iD)("table",Ie,[(0,o._)("thead",null,[(0,o._)("tr",null,[Ue,(0,o.WI)(e.$slots,"header")])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.data.slice(a.start,a.end),((t,s)=>((0,o.wg)(),(0,o.iD)("tr",{onClick:e=>i.rowClickComp(t),style:{cursor:"pointer"}},[(0,o._)("th",Ae,(0,F.zw)(a.start+s+1),1),(0,o.WI)(e.$slots,"body",(0,F.vs)((0,o.F4)(t)))],8,Se)))),256))])])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",we,[fe,(0,o._)("div",be,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.dots,(e=>((0,o.wg)(),(0,o.iD)("span",ye,(0,F.zw)(e),1)))),256))])]))])}a(7658);var Le,Te=!0,je={props:["data","layoutType","start","end"],data(){return{dots:[""]}},methods:{stopDotsInterval(){clearInterval(Le)},rowClickComp(e){this.$emit("rowClick",e.docId),this.$emit("rowClickByAdmin",e.uid)}},mounted(){this.data||(Le=setInterval((()=>{this.dots.length<9&&Te?(this.dots.push(""),8==this.dots.length&&(Te=!Te)):(this.dots.pop(),1==this.dots.length&&(Te=!Te))}),300))}};const Me=(0,N.Z)(je,[["render",Ne]]);var Pe=Me;let ze;var $e={components:{"base-layout":Pe},data(){return{category:{title:null,subTitle:null,specific:null,photo:null,type:"question"},btnDisable:!1}},methods:{selectFile(e){if(e.target.files&&e.target.files[0]){const t=new FileReader;t.onload=e=>{},t.readAsDataURL(e.target.files[0]),this.category.photo=e.target.files[0]}},showModal(){void 0!=ze&&null!=ze||(ze=new bootstrap.Modal(this.$refs.myModal,{}),ze.show())},hideModal(){null!=ze&&(ze.hide(),ze=null)},registerNewCategory(){let e=!1;Object.keys(this.category).forEach((t=>{this.category[t]||(e=!0)})),e||(this.btnDisable=!0,this.$store.dispatch("registerNewCategory",this.category).then((()=>{this.$store.dispatch("getCollectionData",{collectionName:"all_questions_collection",wheres:[{key:"type",opt:"==",value:"question"}],orders:[],groupName:"firestoreDbList",saveCollectionName:"allQuestionsCollection"})})).finally((()=>{this.$refs.registerNewCategoryForm.reset(),Object.keys(this.category).forEach((e=>{"type"!=e&&(this.category[e]=null)})),this.btnDisable=!1,this.hideModal()})))}},computed:{getUserRole(){return this.$store.getters.acquireUserInfo?.userRole},getAllQuestionsNameData(){return this.$store.getters.acquireAllQuestionsNameData("allQuestionsCollection")}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"all_questions_collection",wheres:[{key:"type",opt:"==",value:"question"}],orders:[],groupName:"firestoreDbList",saveCollectionName:"allQuestionsCollection"})}),1500)}};const He=(0,N.Z)($e,[["render",he],["__scopeId","data-v-1d7d0d4d"]]);var Fe=He;const Oe={key:0},Ke={key:1};function Re(e,t,a,s,l,i){const n=(0,o.up)("dashboard-home-view"),r=(0,o.up)("login-view");return i.getUserID?((0,o.wg)(),(0,o.iD)("section",Oe,[(0,o.Wm)(n)])):((0,o.wg)(),(0,o.iD)("section",Ke,[(0,o.Wm)(r)]))}const We=e=>((0,o.dD)("data-v-04c07614"),e=e(),(0,o.Cn)(),e),Ee={key:0,class:"m-auto py-5",style:{width:"max-content"}},Ye=We((()=>(0,o._)("div",null,[(0,o._)("h3",null,"Loading")],-1))),Be={class:"d-flex gap-1"},Ze={class:"p-1 bg-primary"},Qe={key:1},Ve=We((()=>(0,o._)("div",{class:"d-flex flex-column align-items-center"},[(0,o._)("i",{class:"bi bi-database-fill-x",style:{"font-size":"3rem"}}),(0,o._)("span",{class:"fs-6"},"NO DATA")],-1))),Je={key:2,class:"profile-layout"},Xe={class:"d-flex flex-column align-items-center my-5"},Ge=We((()=>(0,o._)("div",{class:"text-center"},[(0,o._)("h1",null,"Profile")],-1))),et={class:"col-10 col-sm-8 col-md-6 mb-3"},tt=We((()=>(0,o._)("label",{for:"userName",class:"form-label"},"User Name",-1))),at={class:"col-10 col-sm-8 col-md-6 mb-3"},st=We((()=>(0,o._)("label",{for:"emailAddress",class:"form-label"},"Email Address",-1))),ot={class:"col-10 col-sm-8 col-md-6 mb-3"},lt=["disabled"];function it(e,t,a,l,i,n){return(0,o.wg)(),(0,o.iD)("div",null,[n.getUserBasicInformation?0==n.getUserBasicInformation.length?((0,o.wg)(),(0,o.iD)("div",Qe,[(0,o.Uk)((0,F.zw)(n.stopDotsInterval())+" ",1),Ve])):((0,o.wg)(),(0,o.iD)("div",Je,[(0,o.Uk)((0,F.zw)(n.stopDotsInterval())+" ",1),(0,o._)("div",Xe,[Ge,(0,o._)("div",et,[tt,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>i.userBasicInfo.userName=e),onInput:t[1]||(t[1]=(...e)=>n.userEditEvent&&n.userEditEvent(...e))},null,544),[[s.nr,i.userBasicInfo.userName]])]),(0,o._)("div",at,[st,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control",id:"emailAddress","onUpdate:modelValue":t[2]||(t[2]=e=>i.userBasicInfo.emailAddress=e),disabled:""},null,512),[[s.nr,i.userBasicInfo.emailAddress]])]),(0,o._)("div",ot,[(0,o._)("input",{type:"button",class:"btn btn-success form-control",value:"Update Profile",disabled:i.activeProfileUpdateBtn,onClick:t[3]||(t[3]=(...e)=>n.updateProfile&&n.updateProfile(...e))},null,8,lt)])])])):((0,o.wg)(),(0,o.iD)("div",Ee,[Ye,(0,o._)("div",Be,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.dots,(e=>((0,o.wg)(),(0,o.iD)("span",Ze,(0,F.zw)(e),1)))),256))])]))])}var nt,rt=!0,ct={data(){return{activeProfileUpdateBtn:!0,userBasicInfo:null,userBasicInfoClone:null,dots:[""]}},methods:{stopDotsInterval(){clearInterval(nt)},userEditEvent(){this.activeProfileUpdateBtn=!0,Object.keys(this.userBasicInfo).forEach((e=>{this.userBasicInfo[e]==this.userBasicInfoClone[e]||"createdTimestamp"==e||(this.activeProfileUpdateBtn=!1)}))},updateProfile(){this.$store.dispatch("updateExistingDocument",{data:{userName:this.userBasicInfo.userName},collectionName:"users",docId:this.userBasicInfo.docId}),this.activeProfileUpdateBtn=!0}},computed:{getFirebaseUserInfo(){return this.$store.getters.acquireUserInfo},getUserBasicInformation(){let e=this.$store.getters.acquireUserProfileData("basicInfo");return this.userBasicInfo=null==e?null:e[0]??[],null==this.userBasicInfoClone&&(this.userBasicInfoClone=JSON.parse(JSON.stringify(this.userBasicInfo))),this.userBasicInfo}},mounted(){this.data||(nt=setInterval((()=>{this.dots.length<9&&rt?(this.dots.push(""),8==this.dots.length&&(rt=!rt)):(this.dots.pop(),1==this.dots.length&&(rt=!rt))}),300)),setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"users",wheres:[{key:"uid",opt:"==",value:this.getFirebaseUserInfo?.uid}],orders:[],groupName:"userProfileData",saveCollectionName:"basicInfo"})}),1500)}};const dt=(0,N.Z)(ct,[["render",it],["__scopeId","data-v-04c07614"]]);var ut=dt;const pt={class:"col-10 col-sm-8 col-md-6 col-lg-4 mx-auto my-3"},mt={key:0,class:"bg-danger text-white p-3 mb-3"},ht=(0,o._)("h3",{class:"text-center"},"ログイン",-1),gt={class:"mb-3"},wt=(0,o._)("label",{for:"exampleInputEmail1",class:"form-label"},[(0,o.Uk)("メールアドレス"),(0,o._)("small",{class:"text-danger"},"*")],-1),ft={class:"input-group mb-3"},bt=(0,o._)("div",{class:"input-group-text"},[(0,o._)("i",{class:"bi bi-envelope-at-fill"})],-1),yt={class:"mb-3"},vt=(0,o._)("label",{for:"exampleInputPassword1",class:"form-label"},[(0,o.Uk)("パスワード"),(0,o._)("small",{class:"text-danger"},"*")],-1),Dt={class:"input-group mb-3"},_t=["type"],Ct=(0,o._)("div",{class:"mb-3"},[(0,o._)("input",{type:"submit",class:"btn btn-primary full-width",value:"ログイン"})],-1),kt={class:"text-center"},xt=(0,o._)("hr",{class:"mb-3"},null,-1),qt={class:"mb-3"};function It(e,t,a,l,i,n){const r=(0,o.up)("router-link"),c=(0,o.up)("action-alert"),d=(0,o.up)("no-action-alert");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",pt,[""!=i.errorMsg?((0,o.wg)(),(0,o.iD)("div",mt,(0,F.zw)(i.errorMsg),1)):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,s.iM)(((...e)=>n.loginAction&&n.loginAction(...e)),["prevent"]))},[ht,(0,o._)("div",gt,[wt,(0,o._)("div",ft,[bt,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:""},null,512),[[s.nr,i.email]])])]),(0,o._)("div",yt,[vt,(0,o._)("div",Dt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:i.pwdShowHide?"password":"text",class:"form-control",id:"exampleInputPassword1",required:""},null,8,_t),[[s.YZ,i.password]]),(0,o._)("div",{class:"input-group-text",onClick:t[2]||(t[2]=(...e)=>n.pwdShowHideAction&&n.pwdShowHideAction(...e))},[(0,o._)("i",{class:(0,F.C_)(["bi",i.pwdShowHide?"bi-eye-fill":"bi-eye-slash-fill"])},null,2)])])]),Ct],32),(0,o._)("div",kt,[(0,o.Wm)(r,{to:{name:"renew-pass"}},{default:(0,o.w5)((()=>[(0,o.Uk)("パスワードを忘れた場合")])),_:1})]),xt,(0,o._)("div",qt,[(0,o.Wm)(r,{to:{name:"create-acccount"},class:"btn btn-success full-width"},{default:(0,o.w5)((()=>[(0,o.Uk)("新しいアカウントを作成")])),_:1})])]),(0,o.Wm)(c,{ref:"alertComp",alertData:i.alertData,onActionCallBack:n.resendURL},null,8,["alertData","onActionCallBack"]),(0,o.Wm)(d,{ref:"noAlertComp",alertData:i.alertData},null,8,["alertData"])],64)}function Ut(e,t){const a=e.split(t);e="";for(let s=0;s<a.length;s++){const t=a[s];e+=t.charAt(0).toUpperCase()+t.substring(1)+" "}return e.trim()}const St=sessionStorage;function At(e){Object.keys(e).forEach((t=>{St.setItem(t,e[t])}))}function Nt(e){return"null"==St.getItem(e)?null:St.getItem(e)}function Lt(){St.clear()}const Tt={class:"modal",tabindex:"-1",id:"actionAlert",ref:"actionAlert"},jt={class:"modal-dialog"},Mt={class:"modal-content position-relative"},Pt=(0,o._)("button",{type:"button",class:"btn-close position-absolute","data-bs-dismiss":"modal","aria-label":"Close",style:{top:"1rem",right:"1rem","z-index":"9"}},null,-1),zt={class:"modal-body d-flex flex-column justify-content-center align-items-center gap-2"},$t={key:0,class:"bi bi-exclamation-triangle-fill text-danger",style:{"font-size":"3.5rem"}},Ht={key:1,class:"bi bi-check-circle-fill text-success",style:{"font-size":"3.5rem"}},Ft={key:2,class:"bi bi-info-circle-fill text-info",style:{"font-size":"3.5rem"}},Ot={class:"modal-footer"},Kt=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"閉じる",-1);function Rt(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",Tt,[(0,o._)("div",jt,[(0,o._)("div",Mt,[Pt,(0,o._)("div",zt,[(0,o._)("span",null,["error"==a.alertData.type?((0,o.wg)(),(0,o.iD)("i",$t)):"success"==a.alertData.type?((0,o.wg)(),(0,o.iD)("i",Ht)):"info"==a.alertData.type?((0,o.wg)(),(0,o.iD)("i",Ft)):(0,o.kq)("",!0)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.brSplit(a.alertData.content),(e=>((0,o.wg)(),(0,o.iD)("span",null,(0,F.zw)(e),1)))),256))]),(0,o._)("div",Ot,[Kt,(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>i.callbackAction&&i.callbackAction(...e))},"再認証")])])])],512)}var Wt={props:["alertData"],methods:{brSplit(e){return e?e.split("<br>"):[]},callbackAction(){this.$emit("actionCallBack")}}};const Et=(0,N.Z)(Wt,[["render",Rt]]);var Yt=Et;const Bt={class:"modal",tabindex:"-1",id:"noActionAlert",ref:"noActionAlert"},Zt={class:"modal-dialog"},Qt={class:"modal-content position-relative"},Vt=(0,o._)("button",{type:"button",class:"btn-close position-absolute","data-bs-dismiss":"modal","aria-label":"Close",style:{top:"1rem",right:"1rem","z-index":"9"}},null,-1),Jt={class:"modal-body d-flex flex-column justify-content-center align-items-center gap-2"},Xt={key:0,class:"bi bi-exclamation-triangle-fill text-danger",style:{"font-size":"3.5rem"}},Gt={key:1,class:"bi bi-check-circle-fill text-success",style:{"font-size":"3.5rem"}},ea={key:2,class:"bi bi-info-circle-fill text-info",style:{"font-size":"3.5rem"}};function ta(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",Bt,[(0,o._)("div",Zt,[(0,o._)("div",Qt,[Vt,(0,o._)("div",Jt,[(0,o._)("span",null,["error"==a.alertData.type?((0,o.wg)(),(0,o.iD)("i",Xt)):"success"==a.alertData.type?((0,o.wg)(),(0,o.iD)("i",Gt)):"info"==a.alertData.type?((0,o.wg)(),(0,o.iD)("i",ea)):(0,o.kq)("",!0)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.brSplit(a.alertData.content),(e=>((0,o.wg)(),(0,o.iD)("span",null,(0,F.zw)(e),1)))),256))])])])],512)}var aa={props:["alertData"],methods:{brSplit(e){return e?e.split("<br>"):[]}}};const sa=(0,N.Z)(aa,[["render",ta]]);var oa=sa;let la;var ia={data(){return{email:"",password:"",errorMsg:"",pwdShowHide:!0,alertData:{},userCred:null}},components:{"action-alert":Yt,"no-action-alert":oa},methods:{loginAction(){this.$store.dispatch("loginAction",{email:this.email,password:this.password}).then((e=>{this.userCred=e.user,this.alertData.type=e.myStatus,e.code&&e.code.split("/").length>1?(this.alertData.title=Ut(e.code.split("/")[0]," "),this.alertData.content=Ut(e.code.split("/")[1],"-")):(this.alertData.title="Info",this.alertData.content=e.extraMsg),null!=la&&(la.hide(),la=null),la=e.rebounce?new bootstrap.Modal(this.$refs.alertComp.$refs.actionAlert,{}):new bootstrap.Modal(this.$refs.noAlertComp.$refs.noActionAlert,{}),la.show()}))},pwdShowHideAction(){this.pwdShowHide=!this.pwdShowHide},resendURL(){this.$store.dispatch("sendEmailVerification",this.userCred).then((e=>{this.alertData.type=e.myStatus,e.code&&e.code.split("/").length>1?(this.alertData.title=Ut(e.code.split("/")[0]," "),this.alertData.content=Ut(e.code.split("/")[1],"-")):(this.alertData.title="Info",this.alertData.content=e.extraMsg),null!=la&&la.hide(),la=new bootstrap.Modal(this.$refs.noAlertComp.$refs.noActionAlert,{}),la.show()}))}},created(){this.email=Nt("email")}};const na=(0,N.Z)(ia,[["render",It]]);var ra=na;const ca=e=>((0,o.dD)("data-v-afdeb900"),e=e(),(0,o.Cn)(),e),da=ca((()=>(0,o._)("div",{class:"text-center recent-activity bg-light py-5"},[(0,o._)("span",{class:"fs-6 text-secondary"},"There is no recent activity.")],-1))),ua=ca((()=>(0,o._)("div",null,[(0,o._)("div",{class:"calendar"})],-1))),pa={class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 text-center gy-4 p-4 m-0"},ma={key:0,class:"col"},ha=ca((()=>(0,o._)("span",null,[(0,o.Uk)("Upload Json Data"),(0,o._)("wbr"),(0,o.Uk)(" To Firebase")],-1))),ga={class:"col"},wa={key:1,class:"col"},fa={key:2,class:"col"};function ba(e,t,a,s,l,i){const n=(0,o.up)("current-datetime-comp"),r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(n),da,ua,(0,o._)("div",pa,[i.getUserRole&&99==i.getUserRole?((0,o.wg)(),(0,o.iD)("div",ma,[(0,o.Wm)(r,{to:{name:"save-json-data-to-firebase"},class:"btn g-web-bg d-flex justify-content-center align-items-center py-5 fs-6 text-white category h-100"},{default:(0,o.w5)((()=>[ha])),_:1})])):(0,o.kq)("",!0),(0,o._)("div",ga,[(0,o.Wm)(r,{to:{name:"user-exam-history"},class:"btn g-web-bg d-flex justify-content-center align-items-center py-5 fs-6 text-white category h-100"},{default:(0,o.w5)((()=>[(0,o.Uk)("試験歴")])),_:1})]),i.getUserRole&&99==i.getUserRole?((0,o.wg)(),(0,o.iD)("div",wa,[(0,o.Wm)(r,{to:{name:"create-exam"},class:"btn g-web-bg d-flex justify-content-center align-items-center py-5 fs-6 text-white category h-100"},{default:(0,o.w5)((()=>[(0,o.Uk)("問題作成")])),_:1})])):(0,o.kq)("",!0),i.getUserRole&&99==i.getUserRole?((0,o.wg)(),(0,o.iD)("div",fa,[(0,o.Wm)(r,{to:{name:"all-users"},class:"btn g-web-bg d-flex justify-content-center align-items-center py-5 fs-6 text-white category h-100"},{default:(0,o.w5)((()=>[(0,o.Uk)("メンバーリスト")])),_:1})])):(0,o.kq)("",!0)])],64)}const ya=e=>((0,o.dD)("data-v-18dc1854"),e=e(),(0,o.Cn)(),e),va={class:"date-time-container text-center"},Da={class:"py-2"},_a={class:"text-bg-primary p-2 rounded"},Ca={class:"choose-timezone text-center py-2"},ka={id:"timezones"},xa=ya((()=>(0,o._)("button",{type:"submit",class:"btn-tz-change"}," (タイムゾーン)変更 ",-1)));function qa(e,t,a,l,i,n){return(0,o.wg)(),(0,o.iD)("div",va,[(0,o._)("h3",null,(0,F.zw)(i.selectedTimeZone),1),(0,o._)("h1",null,(0,F.zw)(i.date.year)+"年"+(0,F.zw)(i.date.month)+"月"+(0,F.zw)(i.date.day)+"日",1),(0,o._)("h6",Da,[(0,o._)("span",_a,(0,F.zw)(i.time.hour)+":"+(0,F.zw)(i.time.minute)+":"+(0,F.zw)(i.time.second),1)]),(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,s.iM)(((...e)=>n.changeTimeZone&&n.changeTimeZone(...e)),["prevent"]))},[(0,o._)("div",Ca,[(0,o.wy)((0,o._)("input",{class:"text-center",list:"timezones","onUpdate:modelValue":t[0]||(t[0]=e=>i.timezoneInput=e)},null,512),[[s.nr,i.timezoneInput]]),(0,o._)("datalist",ka,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.matchTimeZone,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e},(0,F.zw)(e),1)))),128))])]),xa],32)])}function Ia(){return Intl.supportedValuesOf("timeZone")}function Ua(e="Asia/Tokyo"){const t=new Date((new Date).toLocaleString("en-US",{timeZone:e}));let a=Aa(t.getDate()),s=Aa(t.getMonth()+1),o=t.getFullYear();return{year:o,month:s,day:a}}function Sa(e="Asia/Tokyo"){const t=new Date((new Date).toLocaleString("en-US",{timeZone:e}));let a=Aa(t.getHours()),s=Aa(t.getMinutes()),o=Aa(t.getSeconds());return{hour:a,minute:s,second:o}}function Aa(e){return e<10?"0"+e:e}function Na(e,t=!1){return Ta(e,t)+" "+La(e,t)}function La(e,t=!1){let a=new Date(t?e:1e3*e.seconds),s=Aa(a.getHours()),o=Aa(a.getMinutes()),l=Aa(a.getSeconds()),i=s+":"+o+":"+l;return i}function Ta(e,t=!1){if(null==e)return"-";let a=new Date(t?e:1e3*e.seconds),s=a.getFullYear(),o=Aa(a.getMonth()+1),l=Aa(a.getDate()),i=s+"/"+o+"/"+l;return i}var ja={data(){return{date:{year:"----",month:"--",day:"--"},time:{hour:"--",minute:"--",second:"--"},timezoneInput:"Asia/Tokyo",allTimeZone:[],matchTimeZone:[],selectedTimeZone:"Asia/Tokyo"}},methods:{changeTimeZone(){let e=this.matchTimeZone.filter((e=>e.toLowerCase().match(this.timezoneInput.toLocaleLowerCase())));e.length>0&&(this.selectedTimeZone=e[0])}},created(){this.allTimeZone=Ia(),setInterval((()=>{this.date=Ua(this.selectedTimeZone),this.time=Sa(this.selectedTimeZone)}),1e3)},watch:{timezoneInput:function(e){this.matchTimeZone=this.allTimeZone?.filter((t=>t.toLowerCase().includes(e.toLowerCase())))}}};const Ma=(0,N.Z)(ja,[["render",qa],["__scopeId","data-v-18dc1854"]]);var Pa=Ma,za={components:{"current-datetime-comp":Pa},computed:{getUserRole(){return this.$store.getters.acquireUserInfo?.userRole}}};const $a=(0,N.Z)(za,[["render",ba],["__scopeId","data-v-afdeb900"]]);var Ha=$a,Fa={components:{"user-profile-view":ut,"dashboard-home-view":Ha,"login-view":ra},computed:{getUserID(){return this.$store.getters.acquireUserID}}};const Oa=(0,N.Z)(Fa,[["render",Re]]);var Ka=Oa;const Ra={class:"py-3 px-3"},Wa=["id"],Ea=["data-bs-target","aria-controls"],Ya=["id","aria-labelledby"],Ba={class:"accordion-body"},Za={class:"mb-2 color-g-web fw-bold"},Qa={class:"ul-wrapper"},Va={class:""},Ja={class:"p-2 accordion-footer"};function Xa(e,t,a,s,l,i){const n=(0,o.up)("router-link"),r=(0,o.up)("BaseLayout");return(0,o.wg)(),(0,o.iD)("div",Ra,[(0,o.Wm)(r,{data:i.getChaptersData,layoutType:"1"},{item:(0,o.w5)((({docId:e,chapterTitle:t,chapterSubtitle:a,details:s,chapterCodeId:l})=>[(0,o._)("h2",{class:"accordion-header",id:"heading"+e},[(0,o._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+e,"aria-expanded":"true","aria-controls":"collapse"+e},(0,F.zw)(t),9,Ea)],8,Wa),(0,o._)("div",{id:"collapse"+e,class:"accordion-collapse collapse","aria-labelledby":"heading"+e,"data-bs-parent":"#accordionExample"},[(0,o._)("div",Ba,[(0,o._)("h6",Za,(0,F.zw)(a),1),(0,o._)("ul",Qa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,(e=>((0,o.wg)(),(0,o.iD)("li",Va,[(0,o._)("small",null,(0,F.zw)(e),1)])))),256))])]),(0,o._)("div",Ja,[(0,o.Wm)(n,{to:{name:"questions-chapter",params:{chapter:l}},class:"btn btn-primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("チャレンジ")])),_:2},1032,["to"])])],8,Ya)])),_:1},8,["data"])])}var Ga={components:{BaseLayout:Pe},props:["specific"],data(){return{collectionName:this.specific}},computed:{getChaptersData(){let e=this.$store.getters.acquireChapterData(this.collectionName);return e&&e.length>0&&e.sort(((e,t)=>e["chapterCodeId"]?.split("-")[2]-t["chapterCodeId"]?.split("-")[2])),e}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:this.collectionName+"_overview",wheres:[],orders:[{name:"chapterCodeId",type:"asc"}],groupName:"chapterData",saveCollectionName:this.collectionName})}),1500)}};const es=(0,N.Z)(Ga,[["render",Xa],["__scopeId","data-v-78584ecd"]]);var ts=es;const as=e=>((0,o.dD)("data-v-2e68935a"),e=e(),(0,o.Cn)(),e),ss={class:"wrapper"},os={key:0,class:"bg-dark text-white px-3 d-flex align-items-center",style:{position:"sticky",top:"72px","z-index":"5"}},ls={class:"fs-5"},is=as((()=>(0,o._)("span",{class:"fs-5 text-warning"},[(0,o._)("i",{class:"bi bi-chevron-compact-right"})],-1))),ns={class:"small"},rs={class:"ms-auto"},cs={key:1,class:"m-auto py-5",style:{width:"max-content"}},ds=as((()=>(0,o._)("div",null,[(0,o._)("h3",null,"Fetching Data")],-1))),us={class:"d-flex gap-1"},ps={class:"p-1 bg-primary"},ms={key:2,class:"py-5"},hs=as((()=>(0,o._)("div",{class:"d-flex flex-column align-items-center"},[(0,o._)("i",{class:"bi bi-database-fill-x",style:{"font-size":"3rem"}}),(0,o._)("span",{class:"fs-6"},"NO DATA")],-1))),gs={key:3,class:"questions-grid col-11 col-sm-11 col-md-11 col-md-9 col-lg-7"},ws={class:"qiestion-item overflow-auto"},fs={class:"question-title d-flex mb-3 p-2"},bs={class:"q-no"},ys={class:"q-text"},vs={key:0,class:"px-4 py-2 mb-3 d-flex gap-2 flex-column"},Ds=as((()=>(0,o._)("span",{class:"fw-bold"},"Keywords for you",-1))),_s={class:"d-flex gap-1"},Cs={class:"bg-warning py-1 px-3 rounded"},ks={key:1,class:"question-code p-2"},xs={class:"code-layout ps-3"},qs={class:"px-4"},Is={class:"table"},Us={key:3,class:"question-code-output p-2 mb-3"},Ss=as((()=>(0,o._)("p",null,"【表示結果】",-1))),As={class:"bg-code-output px-2 py-3"},Ns={class:"m-0"},Ls={key:4,class:"question-code-run p-2 mb-3"},Ts=as((()=>(0,o._)("p",null,"【実行方法】",-1))),js={class:"bg-dark text-white px-2 py-3"},Ms={class:"m-0"},Ps={class:"question-choice ps-4 pe-4 mb-3 d-flex flex-column gap-3"},zs={class:"d-flex align-items-start"},$s=["value","id","disabled"],Hs=["for"],Fs={key:1,class:"d-flex flex-column gap-2"},Os={class:"position-relative"},Ks={class:"position-absolute d-flex flex-column gap-1",style:{top:".25rem",right:".25rem","z-index":"1"}},Rs=["onClick"],Ws=as((()=>(0,o._)("i",{class:"bi bi-x-lg"},null,-1))),Es=[Ws],Ys=["onClick"],Bs=as((()=>(0,o._)("i",{class:"bi bi-plus-lg"},null,-1))),Zs=[Bs],Qs=["id","onUpdate:modelValue"],Vs={class:"question-change-actions"};function Js(e,t,a,l,i,n){return(0,o.wg)(),(0,o.iD)("div",ss,[n.getChapterInfo?((0,o.wg)(),(0,o.iD)("div",os,[(0,o._)("span",ls,(0,F.zw)(n.getChapterInfo["chapterTitle"]),1),is,(0,o._)("span",ns,(0,F.zw)(n.getChapterInfo["chapterSubtitle"]),1),(0,o._)("span",rs,(0,F.zw)(i.startDateTimeFormatted),1)])):(0,o.kq)("",!0),i.questionsList?0==i.questionsList.length?((0,o.wg)(),(0,o.iD)("div",ms,[(0,o.Uk)((0,F.zw)(n.stopDotsInterval())+" ",1),hs])):((0,o.wg)(),(0,o.iD)("div",gs,[(0,o.Uk)((0,F.zw)(n.stopDotsInterval())+" "+(0,F.zw)(n.recordStartDate())+" ",1),(0,o._)("div",ws,[(0,o._)("div",fs,[(0,o._)("span",bs,(0,F.zw)(`(${i.currentIndex+1})`),1),(0,o._)("span",ys,(0,F.zw)(i.questionsList[i.currentIndex]["questionTitle"]),1)]),i.questionsList[i.currentIndex]["questionHint"]?((0,o.wg)(),(0,o.iD)("div",vs,[Ds,(0,o._)("span",_s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questionsList[i.currentIndex]["questionHint"],(e=>((0,o.wg)(),(0,o.iD)("span",Cs,(0,F.zw)(e),1)))),256))])])):(0,o.kq)("",!0),i.questionsList[i.currentIndex]["questionCode"]?((0,o.wg)(),(0,o.iD)("div",ks,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questionsList[i.currentIndex]["questionCode"],(e=>((0,o.wg)(),(0,o.iD)("pre",xs,[(0,o._)("code",null,[(0,o._)("ol",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.formattingJavaCode(e),((e,t)=>((0,o.wg)(),(0,o.iD)("li",null,(0,F.zw)(e.textContent),1)))),256))])])])))),256))])):(0,o.kq)("",!0),i.questionsList[i.currentIndex]["questionTableData"]?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(i.questionsList[i.currentIndex]["questionTableData"],(e=>((0,o.wg)(),(0,o.iD)("div",qs,[(0,o._)("table",Is,[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e["heading"],(e=>((0,o.wg)(),(0,o.iD)("th",null,(0,F.zw)(e),1)))),256))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e["body"],(e=>((0,o.wg)(),(0,o.iD)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("td",null,(0,F.zw)(e),1)))),256))])))),256))])])])))),256)):(0,o.kq)("",!0),i.questionsList[i.currentIndex]["questionCodeOutput"]?((0,o.wg)(),(0,o.iD)("div",Us,[Ss,(0,o._)("div",As,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questionsList[i.currentIndex]["questionCodeOutput"],(e=>((0,o.wg)(),(0,o.iD)("p",Ns,(0,F.zw)(e),1)))),256))])])):(0,o.kq)("",!0),i.questionsList[i.currentIndex]["questionCodeCommdaLines"]?((0,o.wg)(),(0,o.iD)("div",Ls,[Ts,(0,o._)("div",js,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questionsList[i.currentIndex]["questionCodeCommdaLines"],(e=>((0,o.wg)(),(0,o.iD)("p",Ms,(0,F.zw)(e),1)))),256))])])):(0,o.kq)("",!0),(0,o._)("div",Ps,[i.questionsList[i.currentIndex]["questionMultiChoices"]?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(i.questionsList[i.currentIndex]["questionMultiChoices"],((e,a)=>((0,o.wg)(),(0,o.iD)("div",zs,[(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"checkbox",value:a,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedItems=e),id:a,disabled:i.selectedItems.length==i.questionsList[i.currentIndex]["numOfQuestionAnswers"]&&-1==i.selectedItems.indexOf(a),onClick:t[1]||(t[1]=(...e)=>n.userTakeAction&&n.userTakeAction(...e))},null,8,$s),[[s.e8,i.selectedItems]])]),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.formatChoice(e),(e=>((0,o.wg)(),(0,o.iD)("label",{for:a,class:"ps-2 d-block"},(0,F.zw)(e),9,Hs)))),256))])])))),256)):((0,o.wg)(),(0,o.iD)("div",Fs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questionsList[i.currentIndex]["userAnswerSourceCode"],((e,t)=>((0,o.wg)(),(0,o.iD)("div",Os,[(0,o._)("div",Ks,[0!=t?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-danger",onClick:e=>n.removeCodeLayout(t)},Es,8,Rs)):(0,o.kq)("",!0),(0,o._)("button",{class:"btn btn-success",onClick:e=>n.addCodeLayout(t)},Zs,8,Ys)]),(0,o.wy)((0,o._)("textarea",{id:"javaCode"+t,class:"form-control",rows:"10",placeholder:"place java code","onUpdate:modelValue":e=>i.questionsList[i.currentIndex]["userAnswerSourceCode"][t]=e},null,8,Qs),[[s.nr,i.questionsList[i.currentIndex]["userAnswerSourceCode"][t]]])])))),256))]))]),(0,o._)("div",Vs,[(0,o._)("button",{onClick:t[2]||(t[2]=e=>n.changeQuestion("minus")),class:(0,F.C_)(["g-web-bg p-2 back rounded",0==i.currentIndex?"btn-remove":""])},"戻る",2),(0,o._)("button",{onClick:t[3]||(t[3]=e=>n.changeQuestion("plus")),class:(0,F.C_)(["g-web-bg p-2 next rounded",i.currentIndex==i.questionsList.length-1?"btn-remove":""])},"次",2),i.currentIndex==i.questionsList.length-1?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>n.addNewDocument&&n.addNewDocument(...e)),class:"btn btn-success"},"完了")):(0,o.kq)("",!0)])])])):((0,o.wg)(),(0,o.iD)("div",cs,[ds,(0,o._)("div",us,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.dots,(e=>((0,o.wg)(),(0,o.iD)("span",ps,(0,F.zw)(e),1)))),256))])]))])}var Xs,Gs=!0,eo={props:["specific","chapter"],data(){return{questionName:this.specific,chapterId:this.chapter,questionsList:null,currentIndex:0,selectedItems:[],isSubmit:!1,isChanges:!1,dots:[""],chapterInfo:null,startDateTime:null,startDateTimeFormatted:null}},methods:{removeCodeLayout(e){this.questionsList[this.currentIndex]["userAnswerSourceCode"].splice(e,1)},addCodeLayout(e){this.questionsList[this.currentIndex]["userAnswerSourceCode"].splice(e+1,0,"")},recordStartDate(){this.startDateTime||(this.startDateTime=Date.now(),this.startDateTimeFormatted=Na(this.startDateTime,!0))},stopDotsInterval(){clearInterval(Xs)},userTakeAction(){this.isChanges=!0},beforeUnloadListener(e){return e.preventDefault(),e.returnValue="Check",!1},changeQuestion(e){"plus"==e?this.currentIndex++:this.currentIndex--,null!=this.questionsList&&this.questionsList[this.currentIndex]["userAnswerKeys"]?this.selectedItems=this.questionsList[this.currentIndex]["userAnswerKeys"]:(this.questionsList[this.currentIndex]["questionMultiChoices"]||this.questionsList[this.currentIndex]["userAnswerSourceCode"]||(this.questionsList[this.currentIndex]["userAnswerSourceCode"]=[""]),this.selectedItems=[])},formattingJavaCode(e){const t=e.trim().split(/[\s]{4}/);let a=[],s=0;return t.forEach((e=>{if(""==e)s+=1;else{let t="";for(let e=0;e<s;e++)t+="    ";a.push({textContent:t+e.trim()}),s=0}})),a},shuffleArray(e){return e.sort((()=>Math.random()-.5))},formatChoice(e){return e.split(/\\n/)},addNewDocument(){if(window.removeEventListener("beforeunload",this.beforeUnloadListener,{capture:!0}),1==confirm("試験完了で宜しいですか？")){this.isSubmit=!0;let e=this.$store.getters.acquireAllQuestionsNameData("selectedQuestion"),t="";e&&e[0]&&e[0].title&&(t=e[0].title);let a=0;this.questionsList.forEach((e=>{null!=e["result"]&&e["result"]&&a++})),this.$store.dispatch("addNewDocument",{dataObj:{answersData:this.questionsList,totalCorrectCount:a,totalQuestionsCount:this.questionsList.length,chapterCodeId:this.chapter,subject:t,startDateTime:this.startDateTime},collectionName:"user_answers",requireUserInfo:!0,redirectPath:"user-exam-history"})}}},unmounted(){window.removeEventListener("beforeunload",this.beforeUnloadListener,{capture:!0})},created(){window.addEventListener("beforeunload",this.beforeUnloadListener,{capture:!0})},beforeMount(){window.addEventListener("beforeunload",this.beforeUnloadListener,{capture:!0})},beforeRouteUpdate(){},beforeRouteLeave(e,t,a){if(!this.isSubmit&&this.isChanges){const e=window.confirm("Do you really want to leave? You have unsaved changes!");if(!e)return void a(!1)}a()},computed:{getChapterInfo(){return this.chapterInfo=this.$store.getters.acquireOneChapterData({questionName:this.questionName,chapterId:this.chapterId}),this.chapterInfo||setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:this.questionName+"_overview",wheres:[],orders:[{name:"chapterCodeId",type:"asc"}],groupName:"chapterData",saveCollectionName:this.questionName})}),1500),this.chapterInfo?.[0]??null}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"all_questions_collection",wheres:[{key:"type",opt:"==",value:"question"},{key:"specific",opt:"==",value:this.specific}],orders:[],groupName:"firestoreDbList",saveCollectionName:"selectedQuestion"})}),1500),this.$store.watch(((e,t)=>t.acquireQuestionsData(this.questionName)),((e,t)=>{this.questionsList=this.shuffleArray(e),null!=this.questionsList&&this.questionsList.length>0&&(this.questionsList[0]["questionMultiChoices"]?this.questionsList[0]["userAnswerKeys"]=[]:this.questionsList[0]["userAnswerSourceCode"]=[""])})),setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:this.questionName+"_questions",wheres:[{key:"chapterCodeId",opt:"==",value:this.chapterId}],orders:[],groupName:"questionData",saveCollectionName:this.questionName})}),1500),this.data||(Xs=setInterval((()=>{this.dots.length<9&&Gs?(this.dots.push(""),8==this.dots.length&&(Gs=!Gs)):(this.dots.pop(),1==this.dots.length&&(Gs=!Gs))}),300))},watch:{selectedItems:function(e){if(e&&this.questionsList[this.currentIndex]["questionAnswerKeys"]){if(this.questionsList[this.currentIndex]["questionAnswerKeys"].length==e.length){let t=!0;e.forEach((e=>{-1==this.questionsList[this.currentIndex]["questionAnswerKeys"].indexOf(e)&&(t=!1)})),this.questionsList[this.currentIndex]["result"]=t}else this.questionsList[this.currentIndex]["result"]=!1;this.questionsList[this.currentIndex]["userAnswerKeys"]=e}}}};const to=(0,N.Z)(eo,[["render",Js],["__scopeId","data-v-2e68935a"]]);var ao=to;const so={class:"text-center"};function oo(e,t){return(0,o.wg)(),(0,o.iD)("h1",so,"404")}const lo={},io=(0,N.Z)(lo,[["render",oo],["__scopeId","data-v-fa6a4756"]]);var no=io;const ro=e=>((0,o.dD)("data-v-c41296be"),e=e(),(0,o.Cn)(),e),co={class:"all-years-schedules-wrapper p-3"},uo=ro((()=>(0,o._)("h1",{class:"text-center mb-5"},"All Years Schedules",-1))),po={class:"school-year-wrapper p-5"},mo={class:"school-year-list d-flex flex-wrap gap-2"},ho={class:"d-flex gap-2"},go={key:0};function wo(e,t,a,s,l,i){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",co,[uo,(0,o._)("div",po,[(0,o._)("div",mo,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.schoolYears,(e=>((0,o.wg)(),(0,o.iD)("div",ho,[(0,o._)("div",null,[(0,o.Wm)(n,{to:{name:"selected-years-schedule",params:{year:e,grade:"01"}},class:"btn btn-info p-5"},{default:(0,o.w5)((()=>[(0,o._)("strong",null,(0,F.zw)(e)+"年度 | 1年生",1)])),_:2},1032,["to"])]),2022!=e?((0,o.wg)(),(0,o.iD)("div",go,[(0,o.Wm)(n,{to:{name:"selected-years-schedule",params:{year:e,grade:"02"}},class:"btn btn-info p-5"},{default:(0,o.w5)((()=>[(0,o._)("strong",null,(0,F.zw)(e)+"年度 | 2年生",1)])),_:2},1032,["to"])])):(0,o.kq)("",!0)])))),256))])])])}var fo={data(){return{schoolYears:[]}},methods:{},created(){const e=new Date;let t=e.getMonth()<2?e.getFullYear()-1:e.getFullYear();for(let a=2022;a<=t;a++)this.schoolYears.push(a)}};const bo=(0,N.Z)(fo,[["render",wo],["__scopeId","data-v-c41296be"]]);var yo=bo;const vo=e=>((0,o.dD)("data-v-bd310fa0"),e=e(),(0,o.Cn)(),e),Do={class:"px-1"},_o={id:"page-title",class:"text-center page-title-sticky bg-white py-2 m-0"},Co={key:0},ko={key:1},xo={key:0,class:"text-center"},qo={key:1,class:"col border"},Io={class:"g-web-bg p-3 text-white text-center schedule-sticky rounded-bottom schedule-title"},Uo={class:"day-list row m-0"},So={class:"day p-2 border-g-web col-md-6 col-lg-4"},Ao={class:"day-name"},No={key:0},Lo={key:1},To={key:2},jo={key:3},Mo={key:4},Po=vo((()=>(0,o._)("td",{class:"td-style"},"科目名",-1))),zo=vo((()=>(0,o._)("td",{class:"td-style"},"：",-1))),$o={key:0},Ho=vo((()=>(0,o._)("td",{class:"td-style"},"講師名",-1))),Fo=vo((()=>(0,o._)("td",{class:"td-style"},"：",-1))),Oo=vo((()=>(0,o._)("td",{class:"td-style"},"時限目",-1))),Ko=vo((()=>(0,o._)("td",{class:"td-style"},"：",-1))),Ro={class:"badge bg-danger"};function Wo(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",Do,[(0,o._)("h2",_o,[(0,o._)("span",null,(0,F.zw)(a.year)+"年",1),"01"==a.grade?((0,o.wg)(),(0,o.iD)("span",Co,"1年生")):(0,o.kq)("",!0),"02"==a.grade?((0,o.wg)(),(0,o.iD)("span",ko,"2年生")):(0,o.kq)("",!0),(0,o.Uk)("の全カリキュラム ")]),null==l.schedules||0==l.schedules.length?((0,o.wg)(),(0,o.iD)("div",xo,(0,F.zw)(l.scheduleFetchingStateMsg),1)):((0,o.wg)(),(0,o.iD)("div",qo,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.schedules,(e=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",Io,[(0,o._)("strong",null,(0,F.zw)(e["part_period_text"]),1)]),(0,o._)("div",Uo,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e["days"],(e=>((0,o.wg)(),(0,o.iD)("div",So,[(0,o._)("div",Ao,[1==e["day_code"]?((0,o.wg)(),(0,o.iD)("strong",No,"月曜日")):(0,o.kq)("",!0),2==e["day_code"]?((0,o.wg)(),(0,o.iD)("strong",Lo,"火曜日")):(0,o.kq)("",!0),3==e["day_code"]?((0,o.wg)(),(0,o.iD)("strong",To,"水曜日")):(0,o.kq)("",!0),4==e["day_code"]?((0,o.wg)(),(0,o.iD)("strong",jo,"木曜日")):(0,o.kq)("",!0),5==e["day_code"]?((0,o.wg)(),(0,o.iD)("strong",Mo,"金曜日")):(0,o.kq)("",!0)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e["lectures"],((t,a)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,F.C_)([a!=e["lectures"].length-1?"border-bottom":"","fw-light lecture p-2"])},[(0,o._)("table",null,[(0,o._)("tr",null,[Po,zo,(0,o._)("td",null,(0,F.zw)(t["lecture_name"]),1)]),i.getUserID?((0,o.wg)(),(0,o.iD)("tr",$o,[Ho,Fo,(0,o._)("td",null,(0,F.zw)(t["lecturer"]),1)])):(0,o.kq)("",!0),(0,o._)("tr",null,[Oo,Ko,(0,o._)("td",null,[(0,o._)("span",Ro,(0,F.zw)(t["lecture_period"]),1)])])])],2)))),256))])))),256))])])))),256))]))])}var Eo={props:["year","grade"],data(){return{scheduleFetchingStateMsg:"Fetching Data From Server!",schedules:null}},computed:{getUserID(){return this.$store.getters.acquireUserID}},mounted(){const e=document.getElementById("page-title"),t=document.getElementById("top-nav-bar");let a=72;t&&(a=t.clientHeight,e.style.top=`${a}px`),addEventListener("scroll",(()=>{t&&(a=t.clientHeight,e.style.top=`${a}px`);let s=document.getElementsByClassName("schedule-title");if(s&&s.length>0)for(let t=0;t<s.length;t++){let o=a+e.clientHeight;s[t].style.top=`${o}px`}})),this.$store.watch(((e,t)=>t.acquireScheduleData("year-schedule")),((e,t)=>{this.schedules=e,null!=this.schedules&&0!=this.schedules.length||(this.scheduleFetchingStateMsg="Data Not Found!")})),setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"all_years_schedule",wheres:[{key:"school_year",opt:"==",value:parseInt(this.year)},{key:"grade",opt:"==",value:this.grade}],orders:[{name:"part",type:"asc"}],groupName:"schedulesData",saveCollectionName:"year-schedule"})}),1500)}};const Yo=(0,N.Z)(Eo,[["render",Wo],["__scopeId","data-v-bd310fa0"]]);var Bo=Yo;const Zo=e=>((0,o.dD)("data-v-1d463a9e"),e=e(),(0,o.Cn)(),e),Qo={class:"wrapper"},Vo=Zo((()=>(0,o._)("div",{class:"exam-result-header text-center"},[(0,o._)("h1",null,"Check Answers")],-1))),Jo={class:"exam-result-detail col-11 col-sm-11 col-md-11 col-md-9 col-lg-7"},Xo={key:0,class:"question-item overflow-auto"},Go={class:"question-title d-flex mb-3 p-2"},el={class:"q-no"},tl={class:"q-text"},al={key:0,class:"px-4 py-2 mb-3 d-flex gap-2 flex-column"},sl=Zo((()=>(0,o._)("span",{class:"fw-bold"},"Keywords for you",-1))),ol={class:"d-flex gap-1"},ll={class:"bg-warning py-1 px-3 rounded"},il={key:1,class:"question-code p-2"},nl={class:"code-layout ps-3"},rl={class:"px-4"},cl={class:"table"},dl={key:3,class:"question-code-output p-2 mb-3"},ul=Zo((()=>(0,o._)("p",null,"【表示結果】",-1))),pl={class:"bg-code-output px-2 py-3"},ml={class:"text-output"},hl={key:4,class:"question-code-run p-2 mb-3"},gl=Zo((()=>(0,o._)("p",null,"【実行方法】",-1))),wl={class:"bg-code-output px-2 py-3"},fl={class:"text-output"},bl={class:"question-choice ps-4 pe-4 mb-3 d-flex flex-column gap-3"},yl={class:"d-flex align-items-start"},vl=["value","id","checked"],Dl=["for"],_l={key:0},Cl={class:"mb-3 d-flex flex-column gap-2"},kl=["value"],xl={class:"d-flex justify-content-between"},ql={key:0},Il={key:1},Ul={key:2},Sl={key:0,class:"d-flex gap-1"},Al={class:"question-change-actions"};function Nl(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",Qo,[Vo,(0,o._)("div",Jo,[l.answerDataWrapper&&l.answerDataWrapper["answersData"].length>0?((0,o.wg)(),(0,o.iD)("div",Xo,[(0,o._)("div",Go,[(0,o._)("span",el,(0,F.zw)(`(${l.currentIndex+1})`),1),(0,o._)("span",tl,(0,F.zw)(l.answerDataWrapper["answersData"][l.currentIndex]["questionTitle"]),1)]),l.answerDataWrapper["answersData"][l.currentIndex]["questionHint"]?((0,o.wg)(),(0,o.iD)("div",al,[sl,(0,o._)("span",ol,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["questionHint"],(e=>((0,o.wg)(),(0,o.iD)("span",ll,(0,F.zw)(e),1)))),256))])])):(0,o.kq)("",!0),l.answerDataWrapper["answersData"][l.currentIndex]["questionCode"]?((0,o.wg)(),(0,o.iD)("div",il,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["questionCode"],(e=>((0,o.wg)(),(0,o.iD)("pre",nl,[(0,o._)("code",null,[(0,o._)("ol",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.formattingJavaCode(e),((e,t)=>((0,o.wg)(),(0,o.iD)("li",null,(0,F.zw)(e.textContent),1)))),256))])])])))),256))])):(0,o.kq)("",!0),l.answerDataWrapper["answersData"][l.currentIndex]["questionTableData"]?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["questionTableData"],(e=>((0,o.wg)(),(0,o.iD)("div",rl,[(0,o._)("table",cl,[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e["heading"],(e=>((0,o.wg)(),(0,o.iD)("th",null,(0,F.zw)(e),1)))),256))])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e["body"],(e=>((0,o.wg)(),(0,o.iD)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("td",null,(0,F.zw)(e),1)))),256))])))),256))])])])))),256)):(0,o.kq)("",!0),l.answerDataWrapper["answersData"][l.currentIndex]["questionCodeOutput"]?((0,o.wg)(),(0,o.iD)("div",dl,[ul,(0,o._)("div",pl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["questionCodeOutput"],(e=>((0,o.wg)(),(0,o.iD)("p",ml,(0,F.zw)(e),1)))),256))])])):(0,o.kq)("",!0),l.answerDataWrapper["answersData"][l.currentIndex]["questionCodeCommdaLines"]?((0,o.wg)(),(0,o.iD)("div",hl,[gl,(0,o._)("div",wl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["questionCodeCommdaLines"],(e=>((0,o.wg)(),(0,o.iD)("p",fl,(0,F.zw)(e),1)))),256))])])):(0,o.kq)("",!0),(0,o._)("div",bl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["questionMultiChoices"],((e,t)=>((0,o.wg)(),(0,o.iD)("div",yl,[(0,o._)("div",null,[(0,o._)("input",{type:"checkbox",value:t,id:t,checked:-1!=l.answerDataWrapper["answersData"][l.currentIndex]["userAnswerKeys"]?.indexOf(t),disabled:""},null,8,vl)]),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.formatChoice(e),(e=>((0,o.wg)(),(0,o.iD)("label",{for:t,class:(0,F.C_)([-1!=l.answerDataWrapper["answersData"][l.currentIndex]["userAnswerKeys"]?.indexOf(t)?-1!=l.answerDataWrapper["answersData"][l.currentIndex]["questionAnswerKeys"].indexOf(t)?"bg-ok":"bg-ng":-1!=l.answerDataWrapper["answersData"][l.currentIndex]["questionAnswerKeys"].indexOf(t)?"bg-ans":"","ps-2 d-block"])},(0,F.zw)(e),11,Dl)))),256))])])))),256)),l.answerDataWrapper["answersData"][l.currentIndex]["userAnswerSourceCode"]?((0,o.wg)(),(0,o.iD)("div",_l,[(0,o._)("div",Cl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.answerDataWrapper["answersData"][l.currentIndex]["userAnswerSourceCode"],(e=>((0,o.wg)(),(0,o.iD)("textarea",{value:e,class:"form-control",rows:"10",disabled:""},null,8,kl)))),256))]),(0,o._)("div",xl,[(0,o._)("div",null,[(0,o.Uk)(" Credit the answer : "),0==l.answerDataWrapper["answersData"][l.currentIndex].result?((0,o.wg)(),(0,o.iD)("span",ql," ✕ ")):1==l.answerDataWrapper["answersData"][l.currentIndex].result?((0,o.wg)(),(0,o.iD)("span",Il," 〇 ")):((0,o.wg)(),(0,o.iD)("span",Ul," ? "))]),i.getUserRole&&99==i.getUserRole?((0,o.wg)(),(0,o.iD)("div",Sl,[(0,o._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=e=>i.giveCredit(!0))},"〇"),(0,o._)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=e=>i.giveCredit(!1))},"✕")])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)]),(0,o._)("div",Al,[(0,o._)("button",{onClick:t[2]||(t[2]=e=>i.changeQuestion("minus")),class:(0,F.C_)(["g-web-bg p-2 back rounded",0==l.currentIndex?"btn-remove":""])},"戻る",2),(0,o._)("button",{onClick:t[3]||(t[3]=e=>i.changeQuestion("plus")),class:(0,F.C_)(["g-web-bg p-2 next rounded",l.currentIndex==l.answerDataWrapper["answersData"].length-1?"btn-remove":""])},"次",2),l.currentIndex==l.answerDataWrapper["answersData"].length-1?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>i.backToProfile&&i.backToProfile(...e)),class:"btn btn-secondary"},"試験履歴へ戻る")):(0,o.kq)("",!0),l.currentIndex==l.answerDataWrapper["answersData"].length-1&&l.markCredit?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[5]||(t[5]=(...e)=>i.updateStudentExamData&&i.updateStudentExamData(...e)),class:"btn btn-success"},"Credit登録")):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)])])}var Ll={props:["examId"],data(){return{currentIndex:0,answerDataWrapper:null,markCredit:!1}},computed:{getUserRole(){return this.$store.getters.acquireUserInfo?.userRole}},methods:{giveCredit(e){this.markCredit=!0,this.answerDataWrapper["answersData"][this.currentIndex].result=e},updateStudentExamData(){console.log(this.answerDataWrapper);let e=0;this.answerDataWrapper.answersData.forEach((t=>{null!=t["result"]&&t["result"]&&e++})),this.$store.dispatch("updateExistingDocumentFields",{data:{answersData:this.answerDataWrapper.answersData,totalCorrectCount:e},collectionName:"user_answers",docId:this.answerDataWrapper.docId}).then((()=>{this.$store.dispatch("backOneHistory")}))},backToProfile(){this.$store.dispatch("backOneHistory")},changeQuestion(e){"plus"==e?this.currentIndex++:this.currentIndex--},formattingJavaCode(e){const t=e.trim().split(/[\s]{4}/);let a=[],s=0;return t.forEach((e=>{if(""==e)s+=1;else{let t="";for(let e=0;e<s;e++)t+="    ";a.push({textContent:t+e.trim()}),s=0}})),a},formatChoice(e){return e.split(/\\n/)}},created(){this.answerDataWrapper=this.$store.getters.acquireOneAnswersData({key:"all-answers",docId:this.examId})?.[0]}};const Tl=(0,N.Z)(Ll,[["render",Nl],["__scopeId","data-v-1d463a9e"]]);var jl=Tl;const Ml=e=>((0,o.dD)("data-v-8688180e"),e=e(),(0,o.Cn)(),e),Pl={class:"py-3 px-3"},zl={class:"card"},$l=["src"],Hl={class:"card-body"},Fl={class:"card-title"},Ol={class:"card-text"},Kl={class:"badge bg-dark d-flex flex-column"},Rl=Ml((()=>(0,o._)("span",null,"Developer",-1))),Wl=["href"],El={key:0,class:"position-sticky p-3 style-float bg-dark text-center rounded"},Yl=Ml((()=>(0,o._)("i",{class:"bi bi-plus fs-6"},null,-1))),Bl={class:"modal fade",id:"myModal",ref:"myModal"},Zl={class:"modal-dialog"},Ql={class:"modal-content"},Vl={class:"modal-header"},Jl=Ml((()=>(0,o._)("h4",{class:"modal-title"},"Add New Student Project",-1))),Xl={class:"modal-body"},Gl={class:"mb-3"},ei=Ml((()=>(0,o._)("label",{for:"projectTitle",class:"form-label"},"Project Title",-1))),ti={class:"mb-3"},ai=Ml((()=>(0,o._)("label",{for:"projectOwner",class:"form-label"},"Developer Name",-1))),si={class:"mb-3"},oi=Ml((()=>(0,o._)("label",{for:"projectImage",class:"form-label"},"Project Demo Image",-1))),li={class:"mb-3"},ii=Ml((()=>(0,o._)("label",{for:"projectUrl",class:"form-label"},"Project URL",-1))),ni={class:"d-flex"},ri=Ml((()=>(0,o._)("button",{type:"reset",class:"btn btn-danger w-50"},"Clear",-1))),ci=["disabled"];function di(e,t,a,l,i,n){const r=(0,o.up)("BaseLayout");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Pl,[(0,o.Wm)(r,{data:n.getAllStudentProjects,layoutType:"0"},{item:(0,o.w5)((({projectTitle:e,projectOwner:t,projectUrl:a,projectImageUrl:s})=>[(0,o._)("div",zl,[(0,o._)("img",{class:"card-img-top card-image",src:s,alt:"Default Image"},null,8,$l),(0,o._)("div",Hl,[(0,o._)("h5",Fl,(0,F.zw)(e),1),(0,o._)("p",Ol,[(0,o._)("span",Kl,[Rl,(0,o._)("span",null,(0,F.zw)(t),1)])]),(0,o._)("a",{href:a,class:"btn btn-link",target:"_blank"},"Visit Site",8,Wl)])])])),_:1},8,["data"])]),n.getUserRole&&99==n.getUserRole?((0,o.wg)(),(0,o.iD)("div",El,[(0,o._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>n.showModal&&n.showModal(...e))},[(0,o.Uk)(" Add New Project "),Yl])])):(0,o.kq)("",!0),(0,o._)("div",Bl,[(0,o._)("div",Zl,[(0,o._)("div",Ql,[(0,o._)("div",Vl,[Jl,(0,o._)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=(...e)=>n.hideModal&&n.hideModal(...e))})]),(0,o._)("div",Xl,[(0,o._)("form",{onSubmit:t[6]||(t[6]=(0,s.iM)(((...e)=>n.registerStudentProject&&n.registerStudentProject(...e)),["prevent"])),ref:"registerProjectForm"},[(0,o._)("div",Gl,[ei,(0,o.wy)((0,o._)("input",{type:"text",id:"projectTitle",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.project.projectTitle=e),required:""},null,512),[[s.nr,i.project.projectTitle]])]),(0,o._)("div",ti,[ai,(0,o.wy)((0,o._)("input",{type:"text",id:"projectOwner",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.project.projectOwner=e),required:""},null,512),[[s.nr,i.project.projectOwner]])]),(0,o._)("div",si,[oi,(0,o._)("input",{type:"file",id:"projectImage",class:"form-control",accept:"image/*",onChange:t[4]||(t[4]=(...e)=>n.selectFile&&n.selectFile(...e)),required:""},null,32)]),(0,o._)("div",li,[ii,(0,o.wy)((0,o._)("input",{type:"text",id:"projectUrl",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>i.project.projectUrl=e),required:""},null,512),[[s.nr,i.project.projectUrl]])]),(0,o._)("div",ni,[ri,(0,o._)("button",{type:"submit",class:"btn btn-success w-50",disabled:i.btnDisable}," Save ",8,ci)])],544)])])])],512)],64)}let ui;var pi={components:{BaseLayout:Pe},data(){return{project:{projectTitle:null,projectUrl:null,projectOwner:null,projectImageFile:null},btnDisable:!1}},methods:{showModal(){void 0!=ui&&null!=ui||(ui=new bootstrap.Modal(this.$refs.myModal,{}),ui.show())},hideModal(){null!=ui&&(ui.hide(),ui=null)},selectFile(e){if(e.target.files&&e.target.files[0]){const t=new FileReader;t.onload=e=>{},t.readAsDataURL(e.target.files[0]),this.project.projectImageFile=e.target.files[0]}},registerStudentProject(){let e=!1;Object.keys(this.project).forEach((t=>{this.project[t]||(e=!0)})),e||(this.btnDisable=!0,this.$store.dispatch("registerStudentProject",this.project).then((()=>{this.$store.dispatch("getCollectionData",{collectionName:"student_projects",wheres:[],orders:[{name:"createdTimestamp",type:"desc"}],groupName:"projectData",saveCollectionName:"all-projects"})})).finally((()=>{this.$refs.registerProjectForm.reset(),Object.keys(this.project).forEach((e=>{this.project[e]=null})),this.btnDisable=!1,this.hideModal()})))}},computed:{getUserRole(){return this.$store.getters.acquireUserInfo?.userRole},getAllStudentProjects(){return this.$store.getters.acquireProjectData("all-projects")}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"student_projects",wheres:[],orders:[{name:"createdTimestamp",type:"desc"}],groupName:"projectData",saveCollectionName:"all-projects"})}),1500)}};const mi=(0,N.Z)(pi,[["render",di],["__scopeId","data-v-8688180e"]]);var hi=mi;const gi={class:"col-10 col-sm-8 col-md-6 col-lg-4 mx-auto my-3"},wi=(0,o._)("h3",{class:"text-center mb-3"},"パスワードを忘れた場合",-1),fi=(0,o._)("p",{class:"text-center m-0 p-0"},[(0,o._)("small",null,"メールアドレスを入力してください。"),(0,o.Uk)(),(0,o._)("br"),(0,o._)("small",null,"新しいパスワードを発行するリンクを送信します。")],-1),bi={class:"input-group mb-3"},yi=(0,o._)("input",{type:"submit",value:"送信",class:"btn btn-primary"},null,-1),vi={key:0,class:"alert alert-success",role:"alert"},Di=(0,o._)("p",{class:"fs-4"}," メールを確認してください。 ",-1),_i=(0,o._)("p",null,[(0,o.Uk)(" メールに新しいパスワードを発行するためリンクを送りました。 そのリンクをクリックして"),(0,o._)("strong",null,"パスワード"),(0,o.Uk)("を再設定してください。 ")],-1),Ci=[Di,_i],ki={key:1,class:"alert alert-danger",role:"alert"};function xi(e,t,a,l,i,n){return(0,o.wg)(),(0,o.iD)("div",gi,[(0,o._)("form",{onSubmit:t[1]||(t[1]=(0,s.iM)(((...e)=>n.renewPasswordByMail&&n.renewPasswordByMail(...e)),["prevent"]))},[wi,fi,(0,o._)("div",bi,[(0,o.wy)((0,o._)("input",{type:"email",class:"form-control",placeholder:"yourmail@gmail.com","aria-label":"Renew Password","aria-describedby":"button-addon2","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),required:""},null,512),[[s.nr,i.email]]),yi])],32),(0,o.wy)((0,o._)("div",null,["success"==i.alertType?((0,o.wg)(),(0,o.iD)("div",vi,Ci)):((0,o.wg)(),(0,o.iD)("div",ki,(0,F.zw)(i.alertMessage),1))],512),[[s.F8,i.alertShow]])])}var qi={data(){return{email:"",alertShow:!1,alertType:"",alertMessage:""}},methods:{renewPasswordByMail(){this.alertShow=!1,this.$store.dispatch("renewPasswordByMail",{email:this.email}).then((e=>{this.alertShow=!0,this.alertType=e.myStatus,e.extraMsg?this.alertMessage=e.extraMsg:this.alertMessage=e.code}))}}};const Ii=(0,N.Z)(qi,[["render",xi]]);var Ui=Ii;const Si=e=>((0,o.dD)("data-v-03a85267"),e=e(),(0,o.Cn)(),e),Ai={class:"col-10 col-sm-8 col-md-6 col-lg-4 mx-auto my-3"},Ni={class:"tab-content",id:"myTabContent"},Li={class:"tab-pane fade show active",id:"home-tab-pane",role:"tabpanel","aria-labelledby":"home-tab",tabindex:"0"},Ti=Si((()=>(0,o._)("h3",{class:"text-center"},"アカウント登録",-1))),ji={class:"mb-3"},Mi=Si((()=>(0,o._)("label",{for:"f1email",class:"form-label"},[(0,o.Uk)("メールアドレス"),(0,o._)("small",{class:"text-danger"},"*")],-1))),Pi=Si((()=>(0,o._)("div",{id:"emailHelp",class:"form-text"},"あなたのメールを他の人と共有することは決してありません。",-1))),zi={class:"mb-3"},$i=Si((()=>(0,o._)("label",{for:"f2email",class:"form-label"},[(0,o.Uk)("パスワード"),(0,o._)("small",{class:"text-danger"},"*")],-1))),Hi=Si((()=>(0,o._)("div",{class:"mb-3"},[(0,o._)("input",{type:"submit",class:"btn btn-success full-width",value:"アカウント登録"})],-1))),Fi={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},Oi=Si((()=>(0,o._)("h3",{class:"text-center"},"メールの認証コードから登録",-1))),Ki={class:"mb-3"},Ri=Si((()=>(0,o._)("label",{for:"exampleInputEmail1",class:"form-label"},[(0,o.Uk)("メールアドレス"),(0,o._)("small",{class:"text-danger"},"*")],-1))),Wi=Si((()=>(0,o._)("div",{id:"emailHelp",class:"form-text"},"あなたのメールを他の人と共有することは決してありません。",-1))),Ei=Si((()=>(0,o._)("div",{class:"mb-3"},[(0,o._)("input",{type:"submit",class:"btn btn-success full-width disabled",value:"送信"})],-1))),Yi=Si((()=>(0,o._)("ul",{class:"nav justify-content-center gap-1",id:"myTab",role:"tablist"},[(0,o._)("li",{class:"nav-item",role:"presentation"},[(0,o._)("i",{class:"bi bi-circle-fill active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home-tab-pane",type:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":"true"})]),(0,o._)("li",{class:"nav-item",role:"presentation"},[(0,o._)("span",{class:"bi bi-circle-fill",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"})])],-1)));function Bi(e,t,a,l,i,n){const r=(0,o.up)("no-action-alert");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Ai,[(0,o._)("div",Ni,[(0,o._)("div",Li,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.createAccountWithEmailAndPassword&&n.createAccountWithEmailAndPassword(...e)),["prevent"]))},[Ti,(0,o._)("div",ji,[Mi,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.f1email=e),type:"email",class:"form-control",id:"f1email","aria-describedby":"emailHelp",required:""},null,512),[[s.nr,i.f1email]]),Pi]),(0,o._)("div",zi,[$i,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",class:"form-control",id:"f2email",required:""},null,512),[[s.nr,i.password]])]),Hi],32)]),(0,o._)("div",Fi,[(0,o._)("form",{"onSubmit:prevent":t[4]||(t[4]=()=>{})},[Oi,(0,o._)("div",Ki,[Ri,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.f2email=e),disabled:"",type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:""},null,512),[[s.nr,i.f2email]]),Wi]),Ei],32)])]),Yi]),(0,o.Wm)(r,{ref:"noAlertComp",alertData:i.alertData},null,8,["alertData"])],64)}let Zi;var Qi={data(){return{f1email:"",password:"",f2email:"",alertData:{}}},components:{"no-action-alert":oa},methods:{createAccountWithEmailAndPassword(){this.password.length>7&&this.$store.dispatch("createNewAccountWithEmailAndPassword",{email:this.f1email,password:this.password}).then((e=>{this.alertData.type=e.myStatus,e.code&&e.code.split("/").length>1?(this.alertData.title=Ut(e.code.split("/")[0]," "),this.alertData.content=Ut(e.code.split("/")[1],"-")):(this.alertData.title="Info",this.alertData.content=e.extraMsg),null!=Zi&&(Zi.hide(),Zi=null),Zi=new bootstrap.Modal(this.$refs.noAlertComp.$refs.noActionAlert,{}),Zi.show()}))}}};const Vi=(0,N.Z)(Qi,[["render",Bi],["__scopeId","data-v-03a85267"]]);var Ji=Vi;const Xi=e=>((0,o.dD)("data-v-7cfc1ace"),e=e(),(0,o.Cn)(),e),Gi={class:"exam-result-layout py-5"},en=Xi((()=>(0,o._)("h4",{class:"text-center mb-3"},"全試験履歴",-1))),tn={class:"px-3"},an=Xi((()=>(0,o._)("th",{scope:"col"},"Start Time",-1))),sn=Xi((()=>(0,o._)("th",{scope:"col"},"Finish Time",-1))),on=Xi((()=>(0,o._)("th",{scope:"col"},"Subject",-1))),ln=Xi((()=>(0,o._)("th",{scope:"col"},"Result",-1))),nn={key:0,class:"table-controller d-flex align-items-center gap-2 justify-content-center"};function rn(e,t,a,s,l,i){const n=(0,o.up)("BaseLayout");return(0,o.wg)(),(0,o.iD)("section",Gi,[en,(0,o._)("div",tn,[(0,o.Wm)(n,{data:i.getUserAnswers,layoutType:"2",start:l.start,end:l.end,onRowClick:i.moveToExamResultDetailsPage},{header:(0,o.w5)((()=>[an,sn,on,ln])),body:(0,o.w5)((({startDateTime:e,createdTimestamp:t,totalCorrectCount:a,totalQuestionsCount:s,subject:l})=>[(0,o._)("td",null,(0,F.zw)(i.convertDate(e,!0)+" "+i.convertTime(e,!0)),1),(0,o._)("td",null,(0,F.zw)(i.convertDate(t)+" "+i.convertTime(t)),1),(0,o._)("td",null,(0,F.zw)(l),1),(0,o._)("td",null,(0,F.zw)(a+"/"+s),1)])),_:1},8,["data","start","end","onRowClick"]),i.getUserAnswers&&0!=i.getUserAnswers.length?((0,o.wg)(),(0,o.iD)("div",nn,[(0,o._)("i",{onClick:t[0]||(t[0]=e=>i.updateFilterAnswersData("minus")),class:(0,F.C_)([1==l.currentFilterPage?"d-none":"d-block","bi bi-caret-left left-icon"])},null,2),(0,o._)("span",null,[(0,o.Uk)(" Showing "),(0,o._)("span",null,(0,F.zw)(l.currentFilterPageStartNumber),1),(0,o.Uk)(" to "+(0,F.zw)(l.currentFilterPage*l.filterLimit>l.totalAnswersDataCount?l.totalAnswersDataCount:l.currentFilterPage*l.filterLimit)+" of "+(0,F.zw)(l.totalAnswersDataCount),1)]),(0,o._)("i",{onClick:t[1]||(t[1]=e=>i.updateFilterAnswersData("plus")),class:(0,F.C_)([l.currentFilterPage==l.filterCount?"d-none":"d-block","bi bi-caret-right right-icon"])},null,2)])):(0,o.kq)("",!0)])])}var cn={props:["userId"],components:{BaseLayout:Pe},data(){return{totalAnswersDataCount:0,filterLimit:5,filterCount:0,currentFilterPageStartNumber:1,currentFilterPage:1,start:0,end:5}},methods:{convertDate(e,t=!1){return Ta(e,t)},convertTime(e,t=!1){return La(e,t)},updateFilterAnswersData(e){"plus"==e?this.currentFilterPage++:this.currentFilterPage--,this.start=(this.currentFilterPage-1)*this.filterLimit,this.end=this.currentFilterPage*this.filterLimit,this.currentFilterPageStartNumber=this.start+1},moveToExamResultDetailsPage(e){this.$router.push({name:"exam-result-by-id",params:{examId:e}})}},computed:{getUserAnswers(){const e=this.$store.getters.acquireAnswersData("all-answers");return this.totalAnswersDataCount=e?.length,this.totalAnswersDataCount>0&&(this.filterCount=Math.ceil(this.totalAnswersDataCount/this.filterLimit)),e}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"user_answers",wheres:[{key:"uid",opt:"==",value:this.userId??this.$store.getters.acquireUserInfo.uid}],orders:[{name:"createdTimestamp",type:"desc"}],groupName:"answerData",saveCollectionName:"all-answers"})}),1500)}};const dn=(0,N.Z)(cn,[["render",rn],["__scopeId","data-v-7cfc1ace"]]);var un=dn;const pn={class:"container py-5"},mn={class:"d-flex flex-column align-items-center"},hn={class:"question-container col-12 col-sm-11 col-md-8 col-lg-6 d-flex flex-column gap-3"},gn={class:"up-action d-flex justify-content-between"},wn={class:"up-action-left bg-dark rounded-top d-flex","data-bs-toggle":"dropdown","aria-expanded":"false"},fn=(0,o._)("i",{class:"bi bi-layout-wtf"},null,-1),bn=[fn],yn={class:"dropdown-menu"},vn=(0,o._)("li",null,[(0,o._)("h6",{class:"dropdown-header"},"Select Layout")],-1),Dn=["onClick"],_n=["onClick"],Cn=["onClick"],kn=["onClick"],xn={class:"up-action-right bg-dark rounded-top d-flex"},qn=["onClick"],In=(0,o._)("i",{class:"bi bi-copy"},null,-1),Un=[In],Sn=["onClick"],An=(0,o._)("i",{class:"bi bi-plus-lg",title:"New Layout"},null,-1),Nn=[An],Ln=["onClick"],Tn=(0,o._)("i",{class:"bi bi-dash-lg"},null,-1),jn=[Tn],Mn={class:"d-flex flex-column gap-2 question-content p-2 bg-dark rounded-bottom"},Pn={class:"question-title"},zn=["onUpdate:modelValue"],$n={key:0,class:"question-body d-flex flex-column gap-2"},Hn=["onClick"],Fn={key:0},On={key:1},Kn={key:2},Rn={key:1,class:"position-relative"},Wn=["onClick"],En={class:"form-check"},Yn=(0,o._)("label",{class:"form-check-label",for:"submitCheck"}," Confirmation for question creation ",-1),Bn=(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"form-control btn btn-success"},"Create")],-1),Zn={class:"modal fade",id:"createChapterModal",ref:"createChapterModal",role:"dialog",tabindex:"-1"},Qn={class:"modal-dialog modal-dialog-scrollable"},Vn={class:"modal-content"},Jn=(0,o._)("div",{class:"modal-header"},[(0,o._)("h5",{class:"modal-title",id:"exampleModalScrollableTitle"},"Add New Chapter"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Xn={class:"modal-body"},Gn={class:"mb-3"},er=(0,o._)("label",{for:"chapterCodeId",class:"form-label"},"Chapter Code Id",-1),tr={class:"mb-3"},ar=(0,o._)("label",{for:"chapterTitle",class:"form-label"},"Chapter Title",-1),sr={class:"mb-3"},or=(0,o._)("label",{for:"chapterSubTitle",class:"form-label"},"Chapter Sub-Title",-1),lr={class:"mb-3"},ir=(0,o._)("label",{for:"chapterDetail",class:"form-label"},"Details",-1),nr={class:"modal-footer"},rr=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function cr(e,t,a,l,i,n){const r=(0,o.up)("code-layout"),c=(0,o.up)("hint-layout"),d=(0,o.up)("table-layout"),u=(0,o.up)("collection-relation-layout"),p=(0,o.up)("multiple-choice-layout");return(0,o.wg)(),(0,o.iD)("div",pn,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.showResult&&n.showResult(...e)),["prevent"]))},[(0,o._)("div",mn,[(0,o._)("div",hn,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questions,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"question",key:a},[(0,o._)("div",gn,[(0,o._)("div",wn,[(0,o._)("a",{href:"#",onClick:t[0]||(t[0]=(0,s.iM)((()=>{}),["prevent"])),class:"text-white d-block px-2 py-1 fs-5"},bn),(0,o._)("ul",yn,[vn,(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,s.iM)((e=>n.addSubLayout(a,"code")),["prevent"])},"Code",8,Dn)]),(0,o._)("li",null,[(0,o._)("a",{class:(0,F.C_)([-1!=i.questions[a].items.findIndex((e=>"hint"==e.type))?"disabled":"","dropdown-item"]),href:"#",onClick:(0,s.iM)((e=>n.addSubLayout(a,"hint")),["prevent"])},"Hint",10,_n)]),(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,s.iM)((e=>n.addSubLayout(a,"table")),["prevent"])},"Table",8,Cn)]),(0,o._)("li",null,[(0,o._)("a",{class:(0,F.C_)([null==i.questions[a].choice?"":"disabled","dropdown-item"]),href:"#",onClick:(0,s.iM)((e=>n.addMultipleChoiceLayout(a)),["prevent"])},"Choices",10,kn)])])]),(0,o._)("div",xn,[(0,o._)("a",{href:"#",onClick:(0,s.iM)((e=>n.duplicateQuestionLayout(a)),["prevent"]),class:"text-white d-block px-2 py-1 fs-5",title:"Duplicate Layout | In the process of developing."},Un,8,qn),(0,o._)("a",{href:"#",onClick:(0,s.iM)((e=>n.addNewQuestionLayout(a)),["prevent"]),class:"text-white d-block px-2 py-1 fs-5"},Nn,8,Sn),a>0?((0,o.wg)(),(0,o.iD)("a",{key:0,href:"#",onClick:(0,s.iM)((e=>n.deleteCurrentQuestionLayout(a)),["prevent"]),class:"text-white d-block px-2 py-1 fs-5",title:"Delete Layout"},jn,8,Ln)):(0,o.kq)("",!0)])]),(0,o._)("div",Mn,[(0,o._)("div",Pn,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e=>i.questions[a].title=e,class:"form-control",rows:"2",placeholder:"Type question title...",required:""},null,8,zn),[[s.nr,i.questions[a].title]])]),i.questions[a].items.length>0?((0,o.wg)(),(0,o.iD)("div",$n,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.questions[a].items,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"position-relative",key:t},[(0,o._)("button",{type:"button",class:"btn-close bg-danger position-absolute","aria-label":"Close",style:{top:".25rem",right:".25rem"},onClick:e=>n.removeSubLayout(a,t)},null,8,Hn),"code"==e.type?((0,o.wg)(),(0,o.iD)("div",Fn,[(0,o.Wm)(r,{content:i.questions[a].items[t].data,"onUpdate:content":e=>i.questions[a].items[t].data=e},null,8,["content","onUpdate:content"])])):(0,o.kq)("",!0),"hint"==e.type?((0,o.wg)(),(0,o.iD)("div",On,[(0,o.Wm)(c,{hints:i.questions[a].items[t].data,"onUpdate:hints":e=>i.questions[a].items[t].data=e},null,8,["hints","onUpdate:hints"])])):(0,o.kq)("",!0),"table"==e.type?((0,o.wg)(),(0,o.iD)("div",Kn,[(0,o.Wm)(d,{testData:i.questions[a].items[t].data,"onUpdate:testData":e=>i.questions[a].items[t].data=e},null,8,["testData","onUpdate:testData"])])):(0,o.kq)("",!0)])))),128))])):(0,o.kq)("",!0),(0,o.Wm)(u,{id:a,fsCollection:i.questions[a].fsCollection,"onUpdate:fsCollection":e=>i.questions[a].fsCollection=e,onCallbackId:n.showCreateChapterModal},null,8,["id","fsCollection","onUpdate:fsCollection","onCallbackId"]),null!=i.questions[a].choice?((0,o.wg)(),(0,o.iD)("div",Rn,[(0,o._)("button",{type:"button",class:"btn-close bg-danger position-absolute","aria-label":"Close",style:{top:".25rem",right:".25rem"},onClick:e=>n.removeMultipleChoiceLayout(a)},null,8,Wn),(0,o.Wm)(p,{choice:i.questions[a].choice,"onUpdate:choice":e=>i.questions[a].choice=e},null,8,["choice","onUpdate:choice"])])):(0,o.kq)("",!0)])])))),128)),(0,o._)("div",En,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",id:"submitCheck","onUpdate:modelValue":t[1]||(t[1]=e=>i.checkRequire=e),required:""},null,512),[[s.e8,i.checkRequire]]),Yn]),Bn])])],32),(0,o._)("div",Zn,[(0,o._)("div",Qn,[(0,o._)("div",Vn,[Jn,(0,o._)("div",Xn,[(0,o._)("div",Gn,[er,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newChapt["chapterCodeId"]=e),type:"text",class:"form-control",id:"chapterCodeId",placeholder:"j-bz-chapter-1,j-b-chapter-2,...",required:""},null,512),[[s.nr,i.newChapt["chapterCodeId"]]])]),(0,o._)("div",tr,[ar,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.newChapt["chapterTitle"]=e),type:"text",class:"form-control",id:"chapterTitle",placeholder:"Java Basic,Java OOP,..."},null,512),[[s.nr,i.newChapt["chapterTitle"]]])]),(0,o._)("div",sr,[or,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.newChapt["chapterSubtitle"]=e),type:"text",class:"form-control",id:"chapterSubTitle",placeholder:"Java Basic,Java OOP,..."},null,512),[[s.nr,i.newChapt["chapterSubtitle"]]])]),(0,o._)("div",lr,[ir,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.newChapt["details"]=e),class:"form-control",id:"chapterDetail",rows:"3"},"\r\n                            ",512),[[s.nr,i.newChapt["details"]]])])]),(0,o._)("div",nr,[rr,(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>n.createNewChapter&&n.createNewChapter(...e))},"Create")])])])],512)])}const dr={class:"form-control p-2"},ur=(0,o._)("div",{class:"py-2 text-danger"},[(0,o._)("ul",{class:"warning m-0"},[(0,o._)("li",null,"Writes down a program code such as Java.")])],-1),pr=["value"];var mr={__name:"CodeLayout",props:["content"],emits:["update:content"],setup(e){return(t,a)=>((0,o.wg)(),(0,o.iD)("div",dr,[ur,(0,o._)("textarea",{value:e.content,onInput:a[0]||(a[0]=e=>t.$emit("update:content",e.target.value)),class:"form-control",rows:"5",placeholder:"Type code..."},"\r\n        ",40,pr)]))}};const hr=mr;var gr=hr;const wr={class:"bg-white p-2 rounded"},fr=(0,o._)("div",{class:"py-2 text-danger"},[(0,o._)("ul",{class:"warning m-0"},[(0,o._)("li",null,"Inputs hint keyword(s) for problem solving such as for-loop.")])],-1),br={class:"mb-3"},yr={key:0,class:"form-control mb-3 bg-light d-flex p-2 flex-wrap gap-2"},vr={class:"bg-warning p-1 rounded position-relative hint-remove cursor-pointer"},Dr=["onClick"],_r={data(){return{hint:null}},methods:{hintTyping(){null!=this.hint&&""!=this.hint.trim()&&this.hints.push(this.hint.trim()),this.hint=null},removeHint(e){this.hints.splice(e,1)}}};var Cr=Object.assign(_r,{__name:"HintLayout",props:["hints"],emits:["update:hints"],setup(e){return(t,a)=>((0,o.wg)(),(0,o.iD)("div",wr,[fr,(0,o._)("div",br,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.hint=e),onKeydown:a[1]||(a[1]=(0,s.D2)(((...e)=>t.hintTyping&&t.hintTyping(...e)),["enter"])),class:"form-control",name:"",id:"qHintKeys",placeholder:"Type hint keys and press enter..."},null,544),[[s.nr,t.hint]])]),0!=e.hints.length?((0,o.wg)(),(0,o.iD)("div",yr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.hints,((e,a)=>((0,o.wg)(),(0,o.iD)("span",vr,[(0,o._)("i",{class:"bi bi-x-square-fill position-absolute top-0 start-100 translate-middle fs-6 d-none",onClick:e=>t.removeHint(a)},null,8,Dr),(0,o.Uk)(" "+(0,F.zw)(e),1)])))),256))])):(0,o.kq)("",!0)]))}});const kr=Cr;var xr=kr;a(541);const qr={class:"mb-3 bg-white p-2 rounded"},Ir=(0,o._)("div",{class:"py-2 text-danger"},[(0,o._)("ul",{class:"warning m-0"},[(0,o._)("li",null,"Creates program's test data for users(Examinee).")])],-1),Ur=(0,o._)("div",{class:"mb-0 ps-2"},[(0,o._)("label",{for:"testDataHeader",class:"form-label me-2"},"Headings")],-1),Sr={class:"mb-3"},Ar={key:0},Nr={key:1,class:"d-flex ps-3 ms-1 gap-1"},Lr=["onUpdate:modelValue"],Tr=["id"],jr=["aria-labelledby"],Mr=["onClick"],Pr=["onClick"],zr=(0,o._)("li",null,[(0,o._)("hr",{class:"dropdown-divider"})],-1),$r=["onClick"],Hr={key:0},Fr=["onClick"],Or={key:1},Kr=["onClick"],Rr=(0,o._)("div",{class:"mb-0 ps-2"},[(0,o._)("label",{for:"testDataBody",class:"form-label me-2"},"Bodies")],-1),Wr={key:0,class:"d-flex flex-column gap-1"},Er={class:"d-flex gap-1"},Yr={class:"d-flex align-items-center"},Br={class:"dropstart"},Zr=(0,o._)("i",{class:"bi bi-three-dots-vertical cursor-pointer","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1),Qr={class:"dropdown-menu"},Vr=["onClick"],Jr=["onClick"],Xr={key:0},Gr=(0,o._)("hr",{class:"dropdown-divider"},null,-1),ec=[Gr],tc={key:1},ac=["onClick"],sc={key:2},oc=["onClick"],lc={key:3},ic=["onClick"],nc=["onUpdate:modelValue"],rc={methods:{generateHeader(){0==this.testData.body.length&&(this.testData.body[0]=[]),this.testData.heading.push(""),this.testData.body.forEach((e=>{e.push("")}))},addColumnLeft(e){0==e?(this.testData.heading.unshift(""),this.testData.body.forEach((e=>{e.unshift("")}))):(this.testData.heading.splice(e,0,""),this.testData.body.forEach((t=>{t.splice(e,0,"")})))},addColumnRight(e){e==this.testData.heading.length-1?(this.testData.heading.push(""),this.testData.body.forEach((e=>{e.push("")}))):(this.testData.heading.splice(e+1,0,""),this.testData.body.forEach((t=>{t.splice(e+1,0,"")})))},deleteColumn(e){0==e&&e==this.testData.heading.length-1?(this.testData.heading.shift(),this.testData.body.shift()):(this.testData.heading.splice(e,1),this.testData.body.forEach((t=>{t.splice(e,1)})))},deleteColumnLeft(e){this.testData.heading.splice(e-1,1),this.testData.body.forEach((t=>{t.splice(e-1,1)}))},deleteColumnRight(e){this.testData.heading.splice(e+1,1),this.testData.body.forEach((t=>{t.splice(e+1,1)}))},addRowAbove(e){const t=this.testData.heading.length,a=new Array(t).fill("");0==e?this.testData.body.unshift(a):this.testData.body.splice(e,0,a)},addRowBelow(e){const t=this.testData.heading.length,a=new Array(t).fill("");e==this.testData.body.length-1?this.testData.body.push(a):this.testData.body.splice(e+1,0,a)},deleteRow(e){this.testData.body.splice(e,1)},moveAbove(e){const t=this.testData.body[e],a=this.testData.body[e-1];this.testData.body[e]=a,this.testData.body[e-1]=t},moveBelow(e){const t=this.testData.body[e],a=this.testData.body[e+1];this.testData.body[e]=a,this.testData.body[e+1]=t}}};var cc=Object.assign(rc,{__name:"TableLayout",props:["testData"],emits:["update:testData"],setup(e){return(t,a)=>((0,o.wg)(),(0,o.iD)("div",qr,[Ir,Ur,(0,o._)("div",Sr,[0==e.testData.heading.length?((0,o.wg)(),(0,o.iD)("div",Ar,[(0,o._)("i",{class:"bi bi-plus-lg me-2 fs-3 cursor-pointer",onClick:a[0]||(a[0]=(...e)=>t.generateHeader&&t.generateHeader(...e))})])):e.testData.heading?((0,o.wg)(),(0,o.iD)("div",Nr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.testData.heading,((a,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"input-group",key:l},[(0,o.wy)((0,o._)("input",{class:"form-control fw-bold",type:"text","onUpdate:modelValue":t=>e.testData.heading[l]=t},null,8,Lr),[[s.nr,e.testData.heading[l]]]),(0,o._)("button",{class:"btn btn-outline-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",id:l+"ID","aria-expanded":"false"},null,8,Tr),(0,o._)("ul",{class:"dropdown-menu dropdown-menu-end","aria-labelledby":l+"ID"},[(0,o._)("li",null,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.addColumnLeft(l)),["prevent"]),class:"dropdown-item",href:"#"}," Add Column Left ",8,Mr)]),(0,o._)("li",null,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.addColumnRight(l)),["prevent"]),class:"dropdown-item",href:"#"}," Add Column Right ",8,Pr)]),zr,(0,o._)("li",null,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.deleteColumn(l)),["prevent"]),class:"dropdown-item",href:"#"}," Delete Column ",8,$r)]),l>0?((0,o.wg)(),(0,o.iD)("li",Hr,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.deleteColumnLeft(l)),["prevent"]),class:"dropdown-item",href:"#"}," Delete Column Left ",8,Fr)])):(0,o.kq)("",!0),l!=e.testData.heading.length-1?((0,o.wg)(),(0,o.iD)("li",Or,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.deleteColumnRight(l)),["prevent"]),class:"dropdown-item",href:"#"}," Delete Column Right ",8,Kr)])):(0,o.kq)("",!0)],8,jr)])))),128))])):(0,o.kq)("",!0)]),Rr,e.testData.body.length>0?((0,o.wg)(),(0,o.iD)("div",Wr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.testData.body,((a,l)=>((0,o.wg)(),(0,o.iD)("div",Er,[(0,o._)("div",Yr,[(0,o._)("div",Br,[Zr,(0,o._)("ul",Qr,[(0,o._)("li",null,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.addRowAbove(l)),["prevent"]),class:"dropdown-item",href:"#"}," Add Row Above ",8,Vr)]),(0,o._)("li",null,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.addRowBelow(l)),["prevent"]),class:"dropdown-item",href:"#"}," Add Row Below ",8,Jr)]),l>0||l<e.testData.body.length-1?((0,o.wg)(),(0,o.iD)("li",Xr,ec)):(0,o.kq)("",!0),l>0||l<e.testData.body.length-1?((0,o.wg)(),(0,o.iD)("li",tc,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.deleteRow(l)),["prevent"]),class:"dropdown-item",href:"#"}," Delete Row ",8,ac)])):(0,o.kq)("",!0),l>0?((0,o.wg)(),(0,o.iD)("li",sc,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.moveAbove(l)),["prevent"]),class:"dropdown-item",href:"#"}," Move Above ",8,oc)])):(0,o.kq)("",!0),l!=e.testData.body.length-1?((0,o.wg)(),(0,o.iD)("li",lc,[(0,o._)("a",{onClick:(0,s.iM)((e=>t.moveBelow(l)),["prevent"]),class:"dropdown-item",href:"#"}," Move Below ",8,ic)])):(0,o.kq)("",!0)])])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"input-group",key:t},[(0,o.wy)((0,o._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e=>a[t]=e},null,8,nc),[[s.nr,a[t]]])])))),128))])))),256))])):(0,o.kq)("",!0)]))}});const dc=cc;var uc=dc;const pc={class:"bg-white p-2 rounded"},mc=(0,o._)("div",{class:"py-2 text-danger"},[(0,o._)("ul",{class:"warning m-0"},[(0,o._)("li",null,"Makes sure that you checked your answer option(s).")])],-1),hc={class:"input-group mb-1"},gc={class:"input-group-text"},wc=["value","required"],fc=["onUpdate:modelValue"],bc=["onClick"],yc=(0,o._)("i",{class:"bi bi-trash3"},null,-1),vc=[yc],Dc={methods:{addNewOption(){const e="opt"+(this.choice.items.length+1),t={key:e,val:""};this.choice.items.push(t)},deleteOption(e,t){this.choice.items?.splice(e,1);const a=this.choice.ans.indexOf(t);-1!=a&&this.choice.ans?.splice(a,1)}}};var _c=Object.assign(Dc,{__name:"MultipleChoiceLayout",props:["choice"],emits:["update:choice"],setup(e){return(t,a)=>((0,o.wg)(),(0,o.iD)("div",pc,[(0,o._)("div",null,[mc,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.choice.items,((l,i)=>((0,o.wg)(),(0,o.iD)("div",hc,[(0,o._)("div",gc,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{value:e.choice.items[i].key,key:"chk"+e.choice.items[i].key,"onUpdate:modelValue":a[0]||(a[0]=t=>e.choice.ans=t),class:"form-check-input mt-0",type:"checkbox",required:0==e.choice.ans.length},null,8,wc)),[[s.e8,e.choice.ans]])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{type:"text","onUpdate:modelValue":t=>e.choice.items[i].val=t,key:"txt"+e.choice.items[i].key,class:"form-control",required:""},null,8,fc)),[[s.nr,e.choice.items[i].val]]),i>2?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:a=>t.deleteOption(i,e.choice.items[i].key)},vc,8,bc)):(0,o.kq)("",!0)])))),256)),(0,o._)("input",{type:"button",class:"btn btn-success form-control",value:"Add Option",onClick:a[1]||(a[1]=(...e)=>t.addNewOption&&t.addNewOption(...e))})])]))}});const Cc=_c;var kc=Cc;const xc={class:"d-flex flex-column gap-2"},qc={class:"d-flex gap-2 align-items-center"},Ic=(0,o._)("option",{disabled:"",value:""},"Please Select Question Type",-1),Uc=["value"],Sc=(0,o._)("a",{href:"",class:"btn btn-success fs-6 disabled"},[(0,o._)("i",{class:"bi bi-plus-circle-fill"})],-1),Ac={class:"d-flex gap-2 align-items-center"},Nc=["disabled"],Lc={disabled:"",value:""},Tc=["value"],jc=(0,o._)("i",{class:"bi bi-plus-circle-fill"},null,-1),Mc=[jc],Pc={data(){return{chapterList:[]}},methods:{getQuestionChapters(){this.fsCollection.chapterName="",this.chapterList=[],this.chapterList=this.$store.getters.acquireChapterData(this.fsCollection.selectedCollectionSpecificKey),this.$store.dispatch("getCollectionData",{collectionName:this.fsCollection.selectedCollectionSpecificKey+"_overview",wheres:[],orders:[{name:"chapterCodeId",type:"asc"}],groupName:"chapterData",saveCollectionName:this.fsCollection.selectedCollectionSpecificKey})},showCreateChapterModal(){this.$emit("callbackId",this.id)}},computed:{getAllQuestionsNameData(){return this.$store.getters.acquireAllQuestionsNameData("allQuestionsCollection")}},mounted(){this.$store.watch(((e,t)=>t.acquireChapterData(this.fsCollection.selectedCollectionSpecificKey)),((e,t)=>{this.chapterList=e})),setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"all_questions_collection",wheres:[{key:"type",opt:"==",value:"question"}],orders:[],groupName:"firestoreDbList",saveCollectionName:"allQuestionsCollection"})}),1500)}};var zc=Object.assign(Pc,{__name:"CollectionRelationLayout",props:["fsCollection","id"],emits:["update:fsCollection","callbackId"],setup(e){return(t,a)=>((0,o.wg)(),(0,o.iD)("div",xc,[(0,o._)("div",qc,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":a[0]||(a[0]=t=>e.fsCollection.selectedCollectionSpecificKey=t),onChange:a[1]||(a[1]=(...e)=>t.getQuestionChapters&&t.getQuestionChapters(...e)),required:""},[Ic,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.getAllQuestionsNameData,(e=>((0,o.wg)(),(0,o.iD)("option",{value:e["specific"]},(0,F.zw)(e["title"]+" / "+e["subTitle"]),9,Uc)))),256))],544),[[s.bM,e.fsCollection.selectedCollectionSpecificKey]]),Sc]),(0,o._)("div",Ac,[(0,o.wy)((0,o._)("select",{disabled:""==e.fsCollection.selectedCollectionSpecificKey,class:"form-select","onUpdate:modelValue":a[2]||(a[2]=t=>e.fsCollection.chapterName=t),required:""},[(0,o._)("option",Lc,(0,F.zw)(""==e.fsCollection.selectedCollectionSpecificKey?"Please Select Question Type First":""!=e.fsCollection.selectedCollectionSpecificKey&&t.chapterList&&0==t.chapterList.length?"Create Chapter ➤":"Please Select Chapter"),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.chapterList,(e=>((0,o.wg)(),(0,o.iD)("option",{value:e["chapterCodeId"]},(0,F.zw)(e["chapterTitle"]),9,Tc)))),256))],8,Nc),[[s.bM,e.fsCollection.chapterName]]),(0,o._)("a",{href:"#",onClick:a[3]||(a[3]=(0,s.iM)(((...e)=>t.showCreateChapterModal&&t.showCreateChapterModal(...e)),["prevent"])),class:(0,F.C_)(["btn btn-success fs-6",""==e.fsCollection.selectedCollectionSpecificKey?"disabled":""])},Mc,2)])]))}});const $c=zc;var Hc=$c;let Fc;var Oc={components:{"code-layout":gr,"hint-layout":xr,"table-layout":uc,"multiple-choice-layout":kc,"collection-relation-layout":Hc},data(){return{questions:[{fsCollection:{selectedCollectionSpecificKey:"",chapterName:""},title:"",items:[],choice:null}],newChapt:{chapterCodeId:"",chapterTitle:"",chapterSubtitle:"",details:""},modalAccessId:null,checkRequire:!1}},methods:{questionObject(){return{fsCollection:{selectedCollectionSpecificKey:"",chapterName:""},title:"",items:[]}},chooseLayoutObject(){return{items:[{key:"opt1",val:""},{key:"opt2",val:""},{key:"opt3",val:""}],ans:[]}},questionTotalLength(){return this.questions.length-1},questionSubLayout(e){return"code"==e?{type:"code",data:""}:"hint"==e?{type:"hint",data:[]}:"table"==e?{type:"table",data:{heading:[],body:[]}}:void 0},duplicateQuestionLayout(e){const t=this.questions[e],a=JSON.parse(JSON.stringify(t));e==this.questionTotalLength()?this.questions.push(a):this.questions.splice(e+1,0,a),console.log(this.questions)},addNewQuestionLayout(e){e==this.questionTotalLength()?this.questions.push(this.questionObject()):this.questions.splice(e+1,0,this.questionObject())},deleteCurrentQuestionLayout(e){this.questions.splice(e,1)},addMultipleChoiceLayout(e){this.questions[e].choice=this.chooseLayoutObject()},removeMultipleChoiceLayout(e){this.questions[e].choice=null},addSubLayout(e,t){this.questions[e].items.push(this.questionSubLayout(t))},removeSubLayout(e,t){this.questions[e].items.splice(t,1)},showResult(){this.checkRequire=!1;for(let e=0;e<this.questions.length;e++){let t={};const a=this.questions[e];if(a.choice){t["questionMultiChoices"]={};for(let e=0;e<a.choice.items.length;e++){const s=a.choice.items[e];t["questionMultiChoices"][s.key]=s.val}t["questionAnswerKeys"]=a.choice.ans,t["numOfQuestionAnswers"]=a.choice.ans.length}if(t["questionTitle"]=a.title,a.items&&a.items.length>0)for(let e=0;e<a.items.length;e++){const s=a.items[e];if("code"==s.type&&(t["questionCode"]||(t["questionCode"]=[]),t["questionCode"].push(s.data)),"hint"==s.type){t["questionHint"]||(t["questionHint"]={});for(let e=0;e<s.data.length;e++)t["questionHint"][e]=s.data[e]}if("table"==s.type){t["questionTableData"]||(t["questionTableData"]=[]);let e={};for(let t=0;t<s.data.heading.length;t++)e[t]=s.data.heading[t];let a={};for(let t=0;t<s.data.body.length;t++)a[t]=s.data.body[t];t["questionTableData"].push({heading:e,body:a})}}t["chapterCodeId"]=a.fsCollection.chapterName;const s=a.fsCollection.selectedCollectionSpecificKey,o=s+"_questions";this.$store.dispatch("addNewDocument",{dataObj:{...t},collectionName:o,requireUserInfo:!0,redirectPath:null}).then((()=>{console.log("FIN")})).catch((e=>{console.log(e)}))}},showCreateChapterModal(e){Fc=new bootstrap.Modal(this.$refs.createChapterModal,{}),this.modalAccessId=e,Fc.show()},createNewChapter(){this.newChapt["details"]&&"string"===typeof this.newChapt["details"]&&""!=this.newChapt["details"].trim()?this.newChapt["details"]=this.newChapt["details"].split("\n"):this.newChapt["details"]=[];const e=this.questions[this.modalAccessId].fsCollection.selectedCollectionSpecificKey,t=e+"_overview";this.$store.dispatch("addNewDocument",{dataObj:{...this.newChapt},collectionName:t,requireUserInfo:!0,redirectPath:null}).then((()=>{Fc.hide(),this.newChapt.chapterCodeId="",this.newChapt.chapterTitle="",this.newChapt.chapterSubtitle="",this.newChapt.details=""}))}}};const Kc=(0,N.Z)(Oc,[["render",cr]]);var Rc=Kc;const Wc={key:0},Ec={key:1},Yc={key:2},Bc={key:3};function Zc(e,t,a,s,l,i){const n=(0,o.up)("verify-email"),r=(0,o.up)("recover-email"),c=(0,o.up)("reset-password"),d=(0,o.up)("error-page");return"verifyEmail"==l.authData.mode?((0,o.wg)(),(0,o.iD)("div",Wc,[(0,o.Wm)(n,{authData:l.authData},null,8,["authData"])])):"recoverEmail"==l.authData.mode?((0,o.wg)(),(0,o.iD)("div",Ec,[(0,o.Wm)(r,{authData:l.authData},null,8,["authData"])])):"resetPassword"==l.authData.mode?((0,o.wg)(),(0,o.iD)("div",Yc,[(0,o.Wm)(c,{authData:l.authData},null,8,["authData"])])):((0,o.wg)(),(0,o.iD)("div",Bc,[(0,o.Wm)(d)]))}const Qc={class:"col-10 col-sm-8 col-md-6 col-lg-5 mx-auto my-3"},Vc={key:0},Jc=(0,o._)("div",{class:"alert alert-info text-center",role:"alert"}," Verifying your email address. ",-1),Xc=[Jc],Gc={key:1},ed=(0,o._)("div",{class:"alert alert-danger text-center",role:"alert"}," Your email address had already been verified or expired. ",-1),td=[ed],ad={key:2},sd={class:"alert alert-success text-center",role:"alert"},od=(0,o._)("div",{class:"mb-3"},"Your email has been verified.",-1);function ld(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",Qc,[""===l.responseStatus?((0,o.wg)(),(0,o.iD)("div",Vc,Xc)):"error"==l.responseStatus?((0,o.wg)(),(0,o.iD)("div",Gc,td)):((0,o.wg)(),(0,o.iD)("div",ad,[(0,o._)("div",sd,[od,(0,o._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>i.redirectURL&&i.redirectURL(...e))}," Go Login ")])]))])}var id={props:["authData"],data(){return{responseStatus:""}},methods:{redirectURL(){if(this.authData&&this.authData.continueUrl){let e=this.authData.continueUrl.split("?")[0]?.split("/");At({email:this.authData?.continueUrl?.split("?")?.[1]?.split("=")?.[1]}),ep.push({name:e[e.length-1]})}}},mounted(){setTimeout((()=>{this.$store.dispatch("verifyEmailForAccountCreation",{oobCode:this.authData.oobCode}).then((e=>{this.responseStatus=e.myStatus,"success"==e.myStatus&&this.$store.dispatch("addNewDocument",{dataObj:{emailAddress:this.authData?.continueUrl?.split("?")?.[1]?.split("=")?.[1]},collectionName:"users",requireUserInfo:!1,redirectPath:null})}))}),1500)}};const nd=(0,N.Z)(id,[["render",ld]]);var rd=nd;function cd(e,t){return(0,o.wg)(),(0,o.iD)("div")}const dd={},ud=(0,N.Z)(dd,[["render",cd]]);var pd=ud;const md={class:"col-10 col-sm-8 col-md-6 col-lg-5 mx-auto my-3"},hd={key:0},gd=(0,o._)("div",{class:"alert alert-info text-center",role:"alert"},[(0,o.Uk)(" Authentication Process "),(0,o._)("br"),(0,o.Uk)(" mail redirect url ")],-1),wd=[gd],fd={key:1},bd=(0,o._)("div",{class:"alert alert-danger text-center",role:"alert"},[(0,o.Uk)(" Authentication Failed. "),(0,o._)("br"),(0,o.Uk)(" Reset password link is invalid. ")],-1),yd=[bd],vd={key:2},Dd=(0,o._)("h3",{class:"text-center mb-3"},"パスワードの再設定",-1),_d={class:"mb-3"},Cd=(0,o._)("label",{for:"exampleInputPassword1",class:"form-label"},[(0,o.Uk)("パスワード"),(0,o._)("small",{class:"text-danger"},"*")],-1),kd={class:"mb-3"},xd=(0,o._)("label",{for:"exampleInputPassword2",class:"form-label"},[(0,o.Uk)("パスワードの再入力"),(0,o._)("small",{class:"text-danger"},"*")],-1),qd=(0,o._)("div",{class:"mb-3"},[(0,o._)("input",{type:"submit",class:"btn btn-primary full-width",value:"パスワードの再設定"})],-1);function Id(e,t,a,l,i,n){return(0,o.wg)(),(0,o.iD)("div",md,[""===i.error?((0,o.wg)(),(0,o.iD)("div",hd,wd)):"error"==i.error?((0,o.wg)(),(0,o.iD)("div",fd,yd)):((0,o.wg)(),(0,o.iD)("div",vd,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.resetPassword&&n.resetPassword(...e)),["prevent"]))},[Dd,(0,o._)("div",_d,[Cd,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.password=e),type:"password",class:"form-control",id:"exampleInputPassword1",required:""},null,512),[[s.nr,i.password]])]),(0,o._)("div",kd,[xd,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.repassword=e),type:"password",class:"form-control",id:"exampleInputPassword2",required:""},null,512),[[s.nr,i.repassword]])]),qd],32)]))])}var Ud={props:["authData"],data(){return{error:"",password:"",repassword:""}},methods:{resetPassword(){this.password&&this.password.length>8&&this.password===this.repassword&&this.$store.dispatch("resetPassword",{oobCode:this.authData.oobCode,password:this.password})}},mounted(){setTimeout((()=>{this.$store.dispatch("resetPasswordLinkValidCheck",{oobCode:this.authData.oobCode}).then((e=>{this.error=e.myStatus}))}),1500)}};const Sd=(0,N.Z)(Ud,[["render",Id]]);var Ad=Sd,Nd={data(){return{authData:{mode:"",oobCode:"",continueUrl:""}}},components:{"error-page":no,"verify-email":rd,"recover-email":pd,"reset-password":Ad},created(){console.log({...this.$route.query}),this.authData.mode=this.$route.query.mode,this.authData.oobCode=this.$route.query.oobCode,this.authData.continueUrl=this.$route.query.continueUrl}};const Ld=(0,N.Z)(Nd,[["render",Zc]]);var Td=Ld;const jd=e=>((0,o.dD)("data-v-58b54b23"),e=e(),(0,o.Cn)(),e),Md={class:"py-5"},Pd=jd((()=>(0,o._)("h4",{class:"text-center mb-3"},"全メンバー",-1))),zd={class:"px-3"},$d=jd((()=>(0,o._)("th",{scope:"col"},"Email",-1))),Hd=jd((()=>(0,o._)("th",{scope:"col"},"User Name",-1))),Fd=jd((()=>(0,o._)("th",{scope:"col"},"User Role",-1))),Od=jd((()=>(0,o._)("th",{scope:"col"},"Created Date",-1))),Kd={key:0,class:"table-controller d-flex align-items-center gap-2 justify-content-center"};function Rd(e,t,a,s,l,i){const n=(0,o.up)("BaseLayout");return(0,o.wg)(),(0,o.iD)("section",Md,[Pd,(0,o._)("div",zd,[(0,o.Wm)(n,{data:i.getAllUsers,layoutType:"2",start:l.start,end:l.end,onRowClickByAdmin:i.moveToUserExamHistory},{header:(0,o.w5)((()=>[$d,Hd,Fd,Od])),body:(0,o.w5)((({emailAddress:e,userRole:t,createdTimestamp:a,userName:s})=>[(0,o._)("td",null,(0,F.zw)(e),1),(0,o._)("td",null,(0,F.zw)(s??"Default"),1),(0,o._)("td",null,(0,F.zw)(t?"Admin":"User"),1),(0,o._)("td",null,(0,F.zw)(i.convertDate(a)),1)])),_:1},8,["data","start","end","onRowClickByAdmin"]),i.getAllUsers&&0!=i.getAllUsers.length?((0,o.wg)(),(0,o.iD)("div",Kd,[(0,o._)("i",{onClick:t[0]||(t[0]=e=>i.updateFilterAnswersData("minus")),class:(0,F.C_)([1==l.currentFilterPage?"d-none":"d-block","bi bi-caret-left left-icon"])},null,2),(0,o._)("span",null,[(0,o.Uk)(" Showing "),(0,o._)("span",null,(0,F.zw)(l.currentFilterPageStartNumber),1),(0,o.Uk)(" to "+(0,F.zw)(l.currentFilterPage*l.filterLimit>l.totalUsers?l.totalUsers:l.currentFilterPage*l.filterLimit)+" of "+(0,F.zw)(l.totalUsers),1)]),(0,o._)("i",{onClick:t[1]||(t[1]=e=>i.updateFilterAnswersData("plus")),class:(0,F.C_)([l.currentFilterPage==l.filterCount?"d-none":"d-block","bi bi-caret-right right-icon"])},null,2)])):(0,o.kq)("",!0)])])}var Wd={components:{BaseLayout:Pe},data(){return{totalUsers:0,filterLimit:5,filterCount:0,currentFilterPageStartNumber:1,currentFilterPage:1,start:0,end:5}},computed:{getAllUsers(){const e=this.$store.getters.acquireAllUsers("allUsers");return this.totalUsers=e?.length,this.totalUsers>0&&(this.filterCount=Math.ceil(this.totalUsers/this.filterLimit)),e}},methods:{convertDate(e){return Ta(e)},updateFilterAnswersData(e){"plus"==e?this.currentFilterPage++:this.currentFilterPage--,this.start=(this.currentFilterPage-1)*this.filterLimit,this.end=this.currentFilterPage*this.filterLimit,this.currentFilterPageStartNumber=this.start+1},moveToUserExamHistory(e){ep.push({name:"user-exam-history",query:{userId:e}})}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"users",wheres:[],orders:[{name:"createdTimestamp",type:"desc"}],groupName:"allUsersData",saveCollectionName:"allUsers"})}),1500)}};const Ed=(0,N.Z)(Wd,[["render",Rd],["__scopeId","data-v-58b54b23"]]);var Yd=Ed;const Bd={class:"d-flex flex-column align-items-center py-5"},Zd={class:"mb-3"},Qd=(0,o._)("option",{disabled:"",value:""},"Please Select Question Type",-1),Vd=["value"],Jd={class:"mb-3"},Xd=(0,o._)("label",{for:"jsonInp",class:"form-label"},"Place Json Data",-1),Gd=(0,o._)("div",{class:"mb-3"},[(0,o._)("button",{type:"submit",class:"form-control btn btn-success"},"Upload")],-1);function eu(e,t,a,l,i,n){return(0,o.wg)(),(0,o.iD)("div",Bd,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>n.uploadJsonData&&n.uploadJsonData(...e)),["prevent"])),class:"col-12 col-sm-11 col-md-8 col-lg-6"},[(0,o._)("div",Zd,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>i.collection=e),required:""},[Qd,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.getAllQuestionsNameData,(e=>((0,o.wg)(),(0,o.iD)("option",{value:e},(0,F.zw)(e["title"]+" / "+e["subTitle"]),9,Vd)))),256))],512),[[s.bM,i.collection]])]),(0,o._)("div",Jd,[Xd,(0,o.wy)((0,o._)("textarea",{class:"form-control",id:"jsonInp",rows:"10","onUpdate:modelValue":t[1]||(t[1]=e=>i.jsonData=e),required:""},null,512),[[s.nr,i.jsonData]])]),Gd],32)])}var tu={data(){return{collection:"",jsonData:""}},methods:{uploadJsonData(){try{let e=JSON.parse(this.jsonData);this.$store.dispatch("addNewDocument",{dataObj:e,collectionName:this.collection.specific+"_questions",requireUserInfo:!1,redirectPath:null}).then((()=>{console.log("FIN")})).catch((e=>{console.log(e)}))}catch(e){console.log(e)}}},computed:{getAllQuestionsNameData(){return this.$store.getters.acquireAllQuestionsNameData("allQuestionsCollection")}},mounted(){setTimeout((()=>{this.$store.dispatch("getCollectionData",{collectionName:"all_questions_collection",wheres:[{key:"type",opt:"==",value:"question"}],orders:[],groupName:"firestoreDbList",saveCollectionName:"allQuestionsCollection"})}),1500)}};const au=(0,N.Z)(tu,[["render",eu]]);var su=au,ou=a(2483),lu=a(65),iu={profile:{get:{account:{saveCollectionName:"user-profile",collectionName:"users_profile"}}},all:{get:{answer:{saveCollectionName:"all-answers",collectionName:"user_answers",where:["uid"],order:{name:"createdTimestamp",type:"desc"}},project:{saveCollectionName:"all-projects",collectionName:"student_projects",where:null,order:{name:"createdTimestamp",type:"desc"}},listUpQuestionCollection:{saveCollectionName:"allQuestionsCollection",collectionName:"all_questions_collection",where:["type"]},users:{saveCollectionName:"allUsers",collectionName:"users",where:null,order:{name:"createdTimestamp",type:"desc"}}}},"java-bronze":{get:{chapter:{saveCollectionName:"java-bronze",collectionName:"java_bronze_overview",where:null,order:{name:"chapterCodeId",type:"asc"}},question:{saveCollectionName:"java-bronze",collectionName:"java_bronze_questions",where:["chapterCodeId"]}},post:{}},"java-basic":{get:{chapter:{saveCollectionName:"java-basic",collectionName:"java_basic_overview",where:null,order:{name:"chapterCodeId",type:"asc"}},question:{saveCollectionName:"java-basic",collectionName:"java_basic_questions",where:["chapterCodeId"]}},post:{}},"java-word-problem":{get:{chapter:{saveCollectionName:"java-word-problem",collectionName:"java_word_problem_overview",where:null,order:{name:"chapterCodeId",type:"asc"}},question:{saveCollectionName:"java-word-problem",collectionName:"java_word_problem_questions",where:["chapterCodeId"]}},post:{}},itf:{get:{chapter:{saveCollectionName:"itf",collectionName:"it_fundamental_overview",where:null,order:{name:"chapterCodeId",type:"asc"}},question:{saveCollectionName:"itf",collectionName:"it_fundamental_questions",where:["chapterCodeId"]}},post:{}},"final-exam":{get:{chapter:{saveCollectionName:"final-exam",collectionName:"final_exam_overview",where:null,order:{name:"chapterCodeId",type:"asc"}},question:{saveCollectionName:"final-exam",collectionName:"final_exam_questions",where:["chapterCodeId"]}},post:{}},"year-schedule":{get:{schedules:{saveCollectionName:"year-schedule",collectionName:"all_years_schedule",where:["school_year","grade"],order:{name:"part",type:"asc"}}},post:{}}},nu={userRole:0,userInfo:{uid:null,displayName:null,emailAddress:null,userRole:null,profileImageUrl:null},profile:{profileImageByteData:"",profileImageUrl:"",allImages:[]},loginModalMsg:"",loginModalState:null,logoutModalState:null,collectionRelation:iu,collectionData:{userProfileData:{},chapterData:{},questionData:{},answerData:{},projectData:{},schedulesData:{},firestoreDbList:{},allUsersData:{}},collectionDataRefKey:{account:"userProfileData",chapter:"chapterData",question:"questionData",answer:"answerData",project:"projectData",listUpQuestionCollection:"firestoreDbList",schedules:"schedulesData",users:"allUsersData"},errorToast:null,authMsg:{renewPass:{success:{msg:"",time:""},error:{msg:"",time:""}},resetPass:{success:{msg:"",time:""},error:{msg:"",time:""}}}},ru={acquireUserInfo:e=>e.userInfo,acquireUserID:e=>e.userInfo.uid,loginModalState:e=>e.loginModalState,loginModalMsgState:e=>e.loginModalMsg,logoutModalState:e=>e.logoutModalState,acquireOneChapterData:e=>t=>e.collectionData?.["chapterData"]?.[t.questionName]?.filter((e=>e["chapterCodeId"]==t.chapterId)),acquireChapterData:e=>t=>e.collectionData["chapterData"][t],acquireQuestionsData:e=>t=>e.collectionData["questionData"][t],acquireOneAnswersData:e=>t=>e.collectionData["answerData"][t.key]?.filter((e=>e.docId==t.docId)),acquireAnswersData:e=>t=>e.collectionData["answerData"][t],acquireProjectData:e=>t=>(console.log(e.collectionData["projectData"][t]),e.collectionData["projectData"][t]),acquireScheduleData:e=>t=>e.collectionData["schedulesData"][t],acquireUserProfileData:e=>t=>e.collectionData["userProfileData"][t],acquireProfileImageFromSession:e=>e.profile.profileImageUrl,acquireAllImages:e=>e.profile.allImages,acquireAllQuestionsNameData:e=>t=>e.collectionData["firestoreDbList"][t],acquireSelectedQuestionNameData:e=>t=>e.collectionData["firestoreDbList"][t],acquireAllUsers:e=>t=>e.collectionData["allUsersData"][t]};function cu(e,t){const a=new FileReader;a.onload=e=>{t(e.target.result)},a.readAsDataURL(e)}var du={initializeAppState:e=>{const t=Object.keys(e.userInfo);t.forEach((t=>{e.userInfo[t]=Nt(t)}))},loginActionState:(e,t)=>{if(null!=t.uid)e.userInfo=t;else{let t=Object.keys(e.userInfo);t.forEach((t=>{e.userInfo[t]=null}))}At(e.userInfo)},logoutActionState:e=>{e.userInfo.uid=null,e.userInfo.displayName=null,e.userInfo.emailAddress=null,e.logoutModalState=!0,Lt()},updateLoginModalState:e=>{e.loginModalState=null},updateLogoutModalState:e=>{e.logoutModalState=null},getCollectionDataState:(e,t)=>{console.log(e),e.collectionData[t.groupName][t.saveCollectionName]=t.response,console.log(e.collectionData)},addNewDocumentState:(e,t)=>{},shortMsg:(e,t)=>{e.authMsg[t.pageId][t.myStatus]["msg"]=t.code?t.code:null,e.authMsg[t.pageId][t.myStatus]["time"]=Date.now()},updateProfileImageState:(e,t)=>{console.log(e.collectionData["userProfileData"]),e.collectionData["userProfileData"]["user-profile"]["profileImageUrl"]=t,console.log(e.collectionData["userProfileData"])},updateAndSaveProfileImageUrlAsDataUrl:(e,t)=>{cu(t.file,(a=>{let s={};s[t.key]=a,At(s),e.profile.profileImageUrl=a}))},handleFileDownloadListUpState:(e,t)=>{e.profile.allImages=t.allImages},alertMsg:(e,t)=>{}},uu=a(7795);const pu={apiKey:"AIzaSyBFzSM3hYoFvNXCsixg22_kvprFUfmemzs",authDomain:"gaigo-web-app.firebaseapp.com",projectId:"gaigo-web-app",storageBucket:"gaigo-web-app.appspot.com",messagingSenderId:"770342086519",appId:"1:770342086519:web:99a00f7a71914dda7de372",measurementId:"G-58WNRNY8XT"},mu=(0,uu.ZF)(pu);var hu=a(5677),gu=a(4287),wu=a(1076);function fu(e,t,a){const s=new FormData;s.append("email",e),s.append("subject",t),s.append("body",a),wu.Z.post("https://script.google.com/macros/s/AKfycbzZzCtN5_0mmQ3cIfoy0hdA9uXZOYKYMBECw4CZeRj3SwZmyuf8Q8Cbv4-39q75ar3PVA/exec",s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}const bu=(0,hu.v0)(mu),yu="https://gaigoweb.onrender.com/",vu={url:yu,handleCodeInApp:!1};function Du(e,t,a){(0,hu.e5)(bu,e,t).then((e=>{e.user.emailVerified?a({uid:e.user.uid,displayName:e.user.displayName,emailAddress:e.user.email,myStatus:"success"}):a({myStatus:"info",rebounce:!0,user:e.user,extraMsg:"メールの認証を行ってください。<br>又は再認証のボタンをクリックしてください。"})})).catch((e=>{a({myStatus:"error",uid:null,...e})}))}async function _u(e,t,a){await(0,hu.Xb)(bu,e,t).then((t=>{const s=t.user;s.emailVerified?a({myStatus:"success"}):Cu(s,e,a)})).catch((e=>{a({myStatus:"error",...e})}))}function Cu(e,t,a){let s=vu;s.url=`${yu}home?email=${t}`,(0,hu.w$)(e,s).then((()=>{a({myStatus:"info",extraMsg:"メールを確認してください。"})})).catch((e=>{a({myStatus:"error",...e})}))}async function ku(e){try{await(0,hu.w7)(bu),e({code:"signOut/success",myStatus:"success"})}catch(t){e({myStatus:"error",...t})}}function xu(e,t,a){(0,hu.TX)(bu,e).then((s=>{const o=s;(0,hu.LG)(bu,e,t).then((()=>{fu(o,"アカウントのパスワード変更","パスワードの再設定をしました。"),Du(o,t,a)})).catch((e=>{a({myStatus:"error",...e})}))})).catch((e=>{a({myStatus:"error",...e})}))}function qu(e,t){(0,hu.TX)(bu,e).then((e=>{t({myStatus:"success"})})).catch((e=>{t({myStatus:"error",...e})}))}function Iu(e,t){(0,hu.LS)(bu,e,vu).then((()=>{t({myStatus:"success",extraMsg:`${e}にパスワードリセットするためのURLを送りました。`})})).catch((e=>{t({myStatus:"error",...e})}))}function Uu(e,t){(0,hu.iA)(bu,e).then((()=>{t({myStatus:"success"})})).catch((e=>{t({myStatus:"error",...e})}))}const Su=(0,gu.ad)(mu);async function Au(e,t,a){if(bu.currentUser)try{const s=(0,gu.JU)(Su,e,t),o=await(0,gu.QT)(s);a({data:o.exists()?o.data():[],myStatus:"success"})}catch(s){console.error(s),a({...s,myStatus:"error"})}else a({code:"Access Denined!",myStatus:"error"})}async function Nu(e,t,a,s,o){if(bu.currentUser||!t)try{let t={},l=Hu(s);const i=(0,gu.IO)((0,gu.hJ)(Su,e),...l),n=await(0,gu.PL)(i);n.forEach((e=>{e.data()?.emailAddress&&(t={...e.data(),docId:e.id})})),0!=Object.keys(t).length?o(a?{myStatus:"success",data:t}:{myStatus:"success"}):o({myStatus:"error",extraMsg:"このメールで登録したアカウントがありません。"})}catch(l){console.error(l),o({...l,myStatus:"error"})}else o({code:"Access Denined!",myStatus:"error"})}async function Lu(e,t,a,s){if(bu.currentUser)try{const o=(0,gu.JU)(Su,e,t);await(0,gu.pl)(o,a,{merge:!0}),s({myStatus:"success"})}catch(o){console.error(o),s({...o,myStatus:"error"})}else s({code:"Access Denined!",myStatus:"error"})}async function Tu(e,t,a,s){if(bu.currentUser||!ep.currentRoute.value.meta.requiresAuth)try{let o=[],l=Hu(t),i=$u(a);const n=(0,gu.IO)((0,gu.hJ)(Su,e),...l,...i),r=await(0,gu.PL)(n);r.forEach((e=>{o.push({...e.data(),docId:e.id})})),s({data:o,myStatus:"success"})}catch(o){console.error(o),s({...o,myStatus:"error"})}else s({code:"Access Denined!",myStatus:"error"})}async function ju(e,t){if(!e.requireUserInfo||bu.currentUser)try{const a=e.requireUserInfo?{...e.dataObj,uid:bu.currentUser.uid,createdTimestamp:(0,gu.Bt)()}:{...e.dataObj,createdTimestamp:(0,gu.Bt)()},s=await(0,gu.ET)((0,gu.hJ)(Su,e.collectionName),a);t({data:s.id,myStatus:"success"})}catch(a){console.error(a),t({...a,myStatus:"error"})}else t({code:"Access Denined!",myStatus:"error"})}async function Mu(e,t){if(bu.currentUser)try{await Pu({uid:bu.currentUser.uid},"users",e,t)}catch(a){console.error(a),t({...a,myStatus:"error"})}else t({code:"Access Denined!",myStatus:"error"})}async function Pu(e,t,a,s){if(bu.currentUser)try{await Lu(t,a,e,s)}catch(o){console.error(o),s({...o,myStatus:"error"})}else s({code:"Access Denined!",myStatus:"error"})}async function zu(e,t,a,s){if(bu.currentUser)try{const o=(0,gu.JU)(Su,e,t);await(0,gu.r7)(o,a),s({myStatus:"success"})}catch(o){console.error(o),s({...o,myStatus:"error"})}else s({code:"Access Denined!",myStatus:"error"})}function $u(e){let t=[];for(let a=0;a<e.length;a++)e[a]&&t.push((0,gu.Xo)(e[a].name,e[a].type));return t}function Hu(e){let t=[];for(let a=0;a<e.length;a++)e[a]&&t.push((0,gu.ar)(e[a].key,e[a].opt,e[a].value));return t}var Fu=a(1294);const Ou=(0,Fu.cF)(mu);function Ku(e,t,a,s,o){switch(t){case"image":Yu(e,a,s,o);break;default:o({msg:"Not supported file type.",myStatus:"error"});break}}function Ru(e,t,a,s){switch(t){case"image":Bu(e,a,s);break;default:s({msg:"Not supported file type.",myStatus:"error"});break}}async function Wu(e){let t=[];if(!bu.currentUser)return void e({msg:"User is not login.",myStatus:"error"});const a=(0,Fu.iH)(Ou,`images/${bu.currentUser.uid}`);try{let s=await(0,Fu.aF)(a);s.prefixes.forEach((async e=>{let a=await(0,Fu.aF)(e);a.items.forEach((e=>{(0,Fu.Jt)(e).then((a=>{t.push({name:e.name,urlPath:a})}))}))})),e({myStatus:"success",allImages:t})}catch(s){e({...s,myStatus:"error"})}}function Eu(e,t){(0,Fu.Jt)(e).then((e=>{t({myStatus:"success",fileUrl:e})})).catch((e=>{t({...e,myStatus:"error"})}))}function Yu(e,t,a,s){if(!bu.currentUser)return void s({msg:"User is not login.",myStatus:"error"});let o;o=a?(0,Fu.iH)(Ou,`images/${bu.currentUser.uid}/${t}/${Date.now()+e.name}`):(0,Fu.iH)(Ou,`app/images/${t}/${Date.now()+e.name}`),(0,Fu.KV)(o,e).then((e=>{Eu(o,s)})).catch((e=>{s({...e,myStatus:"error"})}))}function Bu(e,t,a){if(!bu.currentUser)return void a({msg:"User is not login.",myStatus:"error"});const s=(0,Fu.iH)(Ou,`images/${bu.currentUser.uid}/${t}/${e}`);(0,Fu.oq)(s).then((()=>{a({myStatus:"success"})})).catch((e=>{a({...e,myStatus:"error"})}))}var Zu={initializeApp(e){e.commit("initializeAppState")},loginAction(e,{email:t,password:a}){return new Promise(((s,o)=>{Du(t,a,(a=>{"success"==a.myStatus?(delete a.myStatus,Nu("users",!0,!0,[{key:"emailAddress",opt:"==",value:t}],(t=>{if("success"==t.myStatus){t.uid||Mu(t.data.docId,(e=>{})),delete t.myStatus;let s={...t.data,...a};e.commit("loginActionState",s)}}))):s(a)}))}))},sendEmailVerification(e,t){return new Promise(((e,a)=>{Cu(t,(t=>{e(t)}))}))},logoutAction(e){ku((t=>{e.commit("logoutActionState")}))},updateLoginModal(e){e.commit("updateLoginModalState")},updateLogoutModal(e){e.commit("updateLogoutModalState")},getCollectionData(e,t){return new Promise(((a,s)=>{t.docId?Au(t.collectionName,t.docId,(s=>{"error"==s.myStatus||(0==s.data?.length&&t.init?Pu({email:e.state.userInfo.emailAddress},"users_profile",t.docId,(a=>{e.commit("getCollectionDataState",{response:a.data,groupName:t.groupName,saveCollectionName:t.saveCollectionName})})):e.commit("getCollectionDataState",{response:s.data,groupName:t.groupName,saveCollectionName:t.saveCollectionName}),a())})):Tu(t.collectionName,t.wheres,t.orders,(s=>{"error"==s.myStatus||e.commit("getCollectionDataState",{response:s.data,groupName:t.groupName,saveCollectionName:t.saveCollectionName}),a()}))}))},addNewDocument(e,t){return console.log(t),new Promise(((e,a)=>{ju(t,(s=>{null!=s?null!=t.redirectPath?ep.replace({name:t.redirectPath}):e():a()}))}))},updateExistingDocument(e,t){Pu(t.data,t.collectionName,t.docId,(e=>{console.log(e)}))},updateExistingDocumentFields(e,t){return new Promise(((e,a)=>{zu(t.collectionName,t.docId,t.data,(t=>{console.log(t),e()}))}))},backOneHistory(e){ep.go(-1)},createNewAccountWithEmailAndPassword(e,t){return new Promise(((e,a)=>{_u(t.email,t.password,(t=>{e(t)}))}))},verifyEmailForAccountCreation(e,{oobCode:t}){return new Promise(((e,a)=>{Uu(t,(t=>{e(t)}))}))},resetPassword(e,{oobCode:t,password:a}){xu(t,a,(t=>{"success"==t.myStatus&&(e.commit("loginActionState",t),ep.push({path:"/"}),ep.removeRoute("mailAuth"))}))},renewPasswordByMail(e,{email:t}){return new Promise(((e,a)=>{Nu("users",!1,!1,[{key:"emailAddress",opt:"==",value:t}],(a=>{"error"==a.myStatus?e(a):Iu(t,(t=>{e(t)}))}))}))},resetPasswordLinkValidCheck(e,{oobCode:t}){return new Promise(((e,a)=>{qu(t,(t=>{e(t)}))}))},fileUpload(e,{file:t,fileType:a,saveFileFolderName:s,docId:o}){Ku(t,a,s,!0,(a=>{"success"===a.myStatus&&"profile"===s&&(Pu({profileImageUrl:a.fileUrl},"users_profile",o,(t=>{console.log(a.fileUrl),e.commit("updateProfileImageState",a.fileUrl)})),e.commit("updateAndSaveProfileImageUrlAsDataUrl",{file:t,key:"profile-image"}))}))},fileDelete(e,t){Ru(t.fileName,t.fileType,t.saveFileFolderName,(t=>{"success"==t.myStatus&&e.dispatch("getAllImages")}))},getAllImages(e){Wu((t=>{"success"===t.myStatus&&e.commit("handleFileDownloadListUpState",t)}))},registerStudentProject(e,t){return new Promise(((e,a)=>{Ku(t.projectImageFile,"image","student_projects_image",!1,(a=>{"success"===a.myStatus&&ju({dataObj:{projectTitle:t.projectTitle,projectUrl:t.projectUrl,projectOwner:t.projectOwner,projectImageUrl:a.fileUrl},collectionName:"student_projects",requireUserInfo:!0},(t=>{e()}))}))}))},registerNewCategory(e,t){return new Promise(((e,a)=>{Ku(t.photo,"image","all_questions",!1,(a=>{"success"===a.myStatus&&ju({dataObj:{title:t.title,subTitle:t.subTitle,specific:t.specific,photo:a.fileUrl,type:t.type},collectionName:"all_questions_collection",requireUserInfo:!0},(t=>{e()}))}))}))}},Qu={},Vu=(0,lu.MT)({state:nu,getters:ru,mutations:du,actions:Zu,modules:Qu});const Ju=[{path:"/",name:"home",component:Ka,meta:{requiresAuth:!1}},{path:"/auth",name:"mailAuth",component:Td,meta:{requiresAuth:!1}},{path:"/renew-pass",name:"renew-pass",component:Ui,meta:{requiresAuth:!1}},{path:"/create-acccount",name:"create-acccount",component:Ji,meta:{requiresAuth:!1}},{path:"/student-projects",name:"student-projects",component:hi,meta:{requiresAuth:!1}},{path:"/all-mondai",name:"all-mondai",component:Fe,meta:{requiresAuth:!0}},{path:"/profile",name:"user-profile",component:ut,meta:{requiresAuth:!0}},{path:"/create-exam",name:"create-exam",component:Rc,meta:{requiresAuth:!0}},{path:"/exam-result/:examId",name:"exam-result-by-id",component:jl,props:!0,meta:{requiresAuth:!0}},{path:"/all-years-schedule",name:"all-years-schedule",component:yo,meta:{requiresAuth:!1}},{path:"/selected-years-schedule/:year/:grade",name:"selected-years-schedule",component:Bo,props:!0,meta:{requiresAuth:!1}},{path:"/all-mondai/questions/:specific",name:"questions",component:ts,props:!0,meta:{requiresAuth:!0}},{path:"/all-mondai/questions/:specific/:chapter",name:"questions-chapter",component:ao,props:!0,meta:{requiresAuth:!0}},{path:"/user/exam/history",name:"user-exam-history",component:un,props:e=>({userId:e.query.userId}),meta:{requiresAuth:!0}},{path:"/uploadJsonData",name:"save-json-data-to-firebase",component:su,meta:{requiresAuth:!0}},{path:"/allUsers",name:"all-users",component:Yd,meta:{requiresAuth:!0}},{path:"/404",name:"not-found",component:no,meta:{requiresAuth:!1}}],Xu=(e,t,a)=>e.hash?{el:e.hash,top:120}:a||{top:0,left:0},Gu=(0,ou.p7)({history:(0,ou.r5)("/"),routes:Ju,scrollBehavior:Xu});Gu.beforeEach(((e,t,a)=>{const s=Ju.findIndex((t=>e.name==t.name));-1!=s?Ju[s].meta.requiresAuth&&null==Vu.getters.acquireUserID?a({name:"home",replace:!0}):a():a({name:"not-found",replace:!0})}));var ep=Gu;(0,s.ri)(H).use(Vu).use(ep).mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,l){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],l=e[d][2];for(var n=!0,r=0;r<s.length;r++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(n=!1,l<i&&(i=l));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,l,i=s[0],n=s[1],r=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(r)var d=r(a)}for(t&&t(s);c<i.length;c++)l=i[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkgaigo_web"]=self["webpackChunkgaigo_web"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5665)}));s=a.O(s)})();
//# sourceMappingURL=app.e75864a7.js.map